<!DOCTYPE html><html lang="zh"><head>
  <link href="/assets/css/material-icons.css" rel="stylesheet">
  <link href="/assets/css/material-roboto-mono.css" rel="stylesheet">
  <link href="/assets/css/translator.css" rel="stylesheet">
  <meta charset="utf-8">
  <title>RxJS 快速入门 - 雪狼湖 - Angular 资源集锦</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
<link rel="stylesheet" href="styles.63d874d3414969525bd7.css"><style></style><script charset="utf-8" src="1.76fb5c19f4f53d13a222.js"></script><script charset="utf-8" src="6.351fc6f1f58006ce2a73.js"></script><style>[_nghost-c2]{height:100vh;display:flex;flex-direction:column}.sidenav-container[_ngcontent-c2]{flex:auto}.sidenav[_ngcontent-c2]{width:300px}.mat-toolbar.mat-primary[_ngcontent-c2]{flex:none}.mat-toolbar.mat-primary.header[_ngcontent-c2]{top:0;margin-bottom:8px}img[_ngcontent-c2]{width:183px;margin-right:1rem;vertical-align:middle}[mat-button][_ngcontent-c2]{min-width:auto}[mat-button].active[_ngcontent-c2]{margin-bottom:-2px;border-bottom:2px solid #fff}mat-sidenav-content[_ngcontent-c2]{position:absolute;top:0;bottom:0;left:0;right:0;overflow-y:auto;padding-left:1rem;padding-right:1rem}a.site-title[_ngcontent-c2]{text-decoration:none;color:#fff}a.site-title[_ngcontent-c2]:visited{color:#fff}</style><style>.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:0}mat-action-list button{background:0 0;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:0}@media (-ms-high-contrast:active){.mat-selection-list:focus{outline-style:dotted}.mat-list-option:focus,.mat-list-option:hover,.mat-nav-list .mat-list-item:focus,.mat-nav-list .mat-list-item:hover,mat-action-list .mat-list-item:focus,mat-action-list .mat-list-item:hover{outline:dotted 1px}}@media (hover:none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover{background:0 0}}</style><style>[_nghost-c4]{display:block}app-nav-node[_ngcontent-c4]{margin-left:1rem}.title[_ngcontent-c4]{flex:auto;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}mat-list-item[_ngcontent-c4]   .title[_ngcontent-c4]{display:inline-block;padding:12px 0}</style><style>@media (-ms-high-contrast:active){.mat-toolbar{outline:solid 1px}}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width:599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}</style><style>svg[_ngcontent-c8]{vertical-align:middle}</style><style>.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-opened{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}@media (-ms-high-contrast:active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}@media (-ms-high-contrast:active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media (-ms-high-contrast:active){.mat-drawer.mat-drawer-end,[dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}</style><style>.doc-info[_ngcontent-c13]{margin:1rem 0;color:#777}dl[_ngcontent-c13]{display:inline-flex;margin:0 2rem 1rem 0}dl[_ngcontent-c13] > dt[_ngcontent-c13]{flex:none;font-style:normal}dl[_ngcontent-c13] > dd[_ngcontent-c13]{flex:auto;margin-left:0;padding:0}dl[_ngcontent-c13] > dd[_ngcontent-c13] > a[_ngcontent-c13]{margin-right:1rem}</style><style>[_nghost-c14]{display:block}</style><style>.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}</style><style>svg[_ngcontent-c10]{vertical-align:middle}</style><style>.mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}</style></head>
<body>
<app-root _nghost-c0="" ng-version="7.2.7"><router-outlet _ngcontent-c0=""></router-outlet><app-article-layout _nghost-c1="" class="ng-star-inserted"><app-layout-nav _ngcontent-c1="" _nghost-c2=""><mat-toolbar _ngcontent-c2="" class="mat-elevation-z6 header mat-toolbar mat-primary mat-toolbar-single-row" color="primary"><!----><a _ngcontent-c2="" routerlink="/" href="/"><app-icon-angular _ngcontent-c2="" _nghost-c8=""><svg _ngcontent-c8="" xml:space="preserve" height="48" id="Layer_1" version="1.1" viewBox="0 0 250 250" width="48" xmlns="http://www.w3.org/2000/svg"><style _ngcontent-c8="" type="text/css"> .st0 { fill: #DD0031; } .st1 { fill: #C3002F; } .st2 { fill: #FFFFFF; }
</style><g _ngcontent-c8=""><polygon _ngcontent-c8="" class="st0" points="125,30 125,30 125,30 31.9,63.2 46.1,186.3 125,230 125,230 125,230 203.9,186.3 218.1,63.2  "></polygon><polygon _ngcontent-c8="" class="st1" points="125,30 125,52.2 125,52.1 125,153.4 125,153.4 125,230 125,230 203.9,186.3 218.1,63.2 125,30  "></polygon><path _ngcontent-c8="" class="st2" d="M125,52.1L66.8,182.6h0h21.7h0l11.7-29.2h49.4l11.7,29.2h0h21.7h0L125,52.1L125,52.1L125,52.1L125,52.1   L125,52.1z M142,135.4H108l17-40.9L142,135.4z"></path></g></svg></app-icon-angular></a><a _ngcontent-c2="" class="site-title" routerlink="/" href="/"><!----><!----><div _ngcontent-c2="" class="ng-star-inserted"><img _ngcontent-c2="" alt="Angular 资源集锦" src="/assets/icons/logo.svg"></div></a><!----><!----><div _ngcontent-c2="" class="flex-spacer ng-star-inserted"></div><a _ngcontent-c2="" aria-label="GitHub 仓库" href="https://github.com/ng-docs/awesome-angular" mat-button="" target="_blank" class="mat-button ng-star-inserted" tabindex="0" aria-disabled="false"><span class="mat-button-wrapper"><app-icon-github _ngcontent-c2="" _nghost-c10=""><svg _ngcontent-c10="" height="26" viewBox="0 0 20 20" width="26" xmlns="http://www.w3.org/2000/svg"><title _ngcontent-c10=""> github-circle-white-transparent</title><path _ngcontent-c10="" d="M10 0C4.477 0 0 4.477 0 10c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V19c0 .27.16.59.67.5C17.14 18.16 20 14.42 20 10A10 10 0 0 0 10 0z" fill="#FFF" fill-rule="evenodd"></path></svg></app-icon-github></span><div class="mat-button-ripple mat-ripple" matripple=""></div><div class="mat-button-focus-overlay"></div></a></mat-toolbar><mat-sidenav-container _ngcontent-c2="" class="sidenav-container mat-drawer-container mat-sidenav-container"><!----><div class="mat-drawer-backdrop ng-star-inserted"></div><div class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div><mat-sidenav _ngcontent-c2="" class="sidenav mat-drawer mat-sidenav ng-tns-c12-0 ng-trigger ng-trigger-transform mat-drawer-side ng-star-inserted" tabindex="-1" role="navigation" style="transform: none; visibility: visible;"><div class="mat-drawer-inner-container"><mat-nav-list _ngcontent-c1="" class="mat-nav-list mat-list-base" role="navigation"><app-nav-node _ngcontent-c1="" _nghost-c4=""><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/4fddf607_Awesome_Angular_%E6%AC%A2%E8%BF%8E%E6%82%A8" style=""><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="Awesome Angular 欢迎您！"><!----> Awesome Angular 欢迎您！ </div></div></a><!----><!----><!----><!----><!----><div _ngcontent-c4="" class="ng-star-inserted" style=""><mat-list-item _ngcontent-c4="" apptoggle="" class="mat-list-item active"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><a _ngcontent-c4="" class="title" title="雪狼湖" href="/articles/69f9cc1e_%E6%96%87%E9%9B%86%E6%94%B9%E5%90%8D%E4%B8%BA%E4%B8%93%E6%A0%8F">雪狼湖</a><!----><mat-icon _ngcontent-c4="" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" role="img" aria-hidden="true">expand_more</mat-icon><!----></div></mat-list-item><div _ngcontent-c4=""><app-nav-node _ngcontent-c4="" _nghost-c4=""><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/69f9cc1e_%E6%96%87%E9%9B%86%E6%94%B9%E5%90%8D%E4%B8%BA%E4%B8%93%E6%A0%8F"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="作者寄语"><!----><span _ngcontent-c4="" class="ng-star-inserted">0.&nbsp;</span> 作者寄语 </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/3e892ab0_%E5%BE%AE%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="微前端概述"><!----><span _ngcontent-c4="" class="ng-star-inserted">1.&nbsp;</span> 微前端概述 </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted active" mat-list-item="" routerlinkactive="active" href="/articles/23a34d9e_RxJS_%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="RxJS 快速入门"><!----><span _ngcontent-c4="" class="ng-star-inserted">2.&nbsp;</span> RxJS 快速入门 </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/bdde8563_%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B%E6%8C%87%E5%8D%97"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="技术选型指南"><!----><span _ngcontent-c4="" class="ng-star-inserted">3.&nbsp;</span> 技术选型指南 </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/37c88f8a_%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98%E8%A6%81%E6%8E%8C%E6%8F%A1%E7%9A%84%E5%8D%81%E5%85%AB%E6%9D%A1_Docker_%E7%9F%A5%E8%AF%86"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="开发人员要掌握的十八条 Docker 知识"><!----><span _ngcontent-c4="" class="ng-star-inserted">4.&nbsp;</span> 开发人员要掌握的十八条 Docker 知识 </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/f52d12cb_%E5%9F%BA%E4%BA%8E_Docker_%E7%9A%84%E5%90%8C%E6%9E%84%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="基于 Docker 的同构开发环境"><!----><span _ngcontent-c4="" class="ng-star-inserted">5.&nbsp;</span> 基于 Docker 的同构开发环境 </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/929165a6_NestJS_%E7%A5%9E%E4%BC%BC_Angular_%E7%9A%84%E5%90%8E%E7%AB%AF%E6%A1%86%E6%9E%B6"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="NestJS，神似 Angular 的后端框架"><!----><span _ngcontent-c4="" class="ng-star-inserted">6.&nbsp;</span> NestJS，神似 Angular 的后端框架 </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/88e33d45_%E6%9E%B6%E6%9E%84%E6%9D%82%E8%B0%88_737_MAX8_%E5%90%AF%E7%A4%BA%E5%BD%95"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="架构杂谈：737 MAX8 启示录"><!----><span _ngcontent-c4="" class="ng-star-inserted">7.&nbsp;</span> 架构杂谈：737 MAX8 启示录 </div></div></a><!----><!----></app-nav-node></div></div><!----><!----><!----><!----><div _ngcontent-c4="" class="ng-star-inserted" style=""><mat-list-item _ngcontent-c4="" apptoggle="" class="mat-list-item"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><a _ngcontent-c4="" class="title" title="[译] NgxBlog" href="/articles/22c33ef1_%E6%B7%BB%E5%8A%A0_ngx-blog_%E7%9A%84%E7%AE%80%E4%BB%8B">[译] NgxBlog</a><!----><!----><mat-icon _ngcontent-c4="" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" role="img" aria-hidden="true">chevron_right</mat-icon></div></mat-list-item><div _ngcontent-c4="" hidden=""><app-nav-node _ngcontent-c4="" _nghost-c4=""><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/22c33ef1_%E6%B7%BB%E5%8A%A0_ngx-blog_%E7%9A%84%E7%AE%80%E4%BB%8B"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="专栏简介"><!----><span _ngcontent-c4="" class="ng-star-inserted">0.&nbsp;</span> 专栏简介 </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/900f8f1a_Useful__code_extentions_for_Angular_developers"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="对 Angular 开发者有用的 @code 扩展"><!----><span _ngcontent-c4="" class="ng-star-inserted">1.&nbsp;</span> 对 Angular 开发者有用的 @code 扩展 </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/833b98b3_Dont_get_lost_in_structure"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="不要为项目结构发愁"><!----><span _ngcontent-c4="" class="ng-star-inserted">2.&nbsp;</span> 不要为项目结构发愁 </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/b56b195b_Translate__i18n__your_Angular_Apps_with__ngx-translate_core"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="使用 @ngx-translate/core 翻译（i18n）你的 Angular 应用"><!----><span _ngcontent-c4="" class="ng-star-inserted">3.&nbsp;</span> 使用 @ngx-translate/core 翻译（i18n）你的 Angular 应用 </div></div></a><!----><!----></app-nav-node></div></div><!----><!----><!----><!----><div _ngcontent-c4="" class="ng-star-inserted" style=""><mat-list-item _ngcontent-c4="" apptoggle="" class="mat-list-item"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><a _ngcontent-c4="" class="title" title="[译] Juristr.com" href="/articles/c1ea1169_Juristr_%E5%8F%8A%E5%85%B6%E5%8D%9A%E5%AE%A2%E7%9A%84%E7%AE%80%E4%BB%8B">[译] Juristr.com</a><!----><!----><mat-icon _ngcontent-c4="" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" role="img" aria-hidden="true">chevron_right</mat-icon></div></mat-list-item><div _ngcontent-c4="" hidden=""><app-nav-node _ngcontent-c4="" _nghost-c4=""><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/c1ea1169_Juristr_%E5%8F%8A%E5%85%B6%E5%8D%9A%E5%AE%A2%E7%9A%84%E7%AE%80%E4%BB%8B"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="专栏简介"><!----><span _ngcontent-c4="" class="ng-star-inserted">0.&nbsp;</span> 专栏简介 </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/c26e6a87_RxJS_finalize_operator_to_execute_logic_on_Observable_termination"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="用 RxJS 的 finalize 操作符在 Observable 终止时执行逻辑"><!----><span _ngcontent-c4="" class="ng-star-inserted">1.&nbsp;</span> 用 RxJS 的 finalize 操作符在 Observable 终止时执行逻辑 </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/032d55b5_Guarantee_Event_Order_with_RxJS"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="用 RxJS 保证事件顺序"><!----><span _ngcontent-c4="" class="ng-star-inserted">2.&nbsp;</span> 用 RxJS 保证事件顺序 </div></div></a><!----><!----></app-nav-node></div></div><!----><!----><!----><!----><div _ngcontent-c4="" class="ng-star-inserted" style=""><mat-list-item _ngcontent-c4="" apptoggle="" class="mat-list-item"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><a _ngcontent-c4="" class="title" title="[译] Shai Reznik" href="/articles/706e2b30_Shai_Reznik_%E4%B8%93%E6%A0%8F">[译] Shai Reznik</a><!----><!----><mat-icon _ngcontent-c4="" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" role="img" aria-hidden="true">chevron_right</mat-icon></div></mat-list-item><div _ngcontent-c4="" hidden=""><app-nav-node _ngcontent-c4="" _nghost-c4=""><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/706e2b30_Shai_Reznik_%E4%B8%93%E6%A0%8F"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="专栏简介"><!----><span _ngcontent-c4="" class="ng-star-inserted">0.&nbsp;</span> 专栏简介 </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/5802651d_Angular_Routing___A_Better_Pattern_For_Large_Scale_Apps"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="Angular Routing - 大规模应用中更好的模式"><!----><span _ngcontent-c4="" class="ng-star-inserted">1.&nbsp;</span> Angular Routing - 大规模应用中更好的模式 </div></div></a><!----><!----></app-nav-node></div></div><!----></app-nav-node></mat-nav-list></div></mat-sidenav><div class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div><mat-sidenav-content _ngcontent-c2="" apppartialscroller="" class="mat-drawer-content mat-sidenav-content" style="margin-left: 300px;"><router-outlet _ngcontent-c2=""></router-outlet><app-article-show _nghost-c13="" class="ng-star-inserted"><div _ngcontent-c13="" class="doc-info"><!----><!----><dl _ngcontent-c13=""><dt _ngcontent-c13=""> 作者： </dt><dd _ngcontent-c13=""><a _ngcontent-c13="" href="/authors/%E6%B1%AA%E5%BF%97%E6%88%90">汪志成</a></dd></dl><!----><dl _ngcontent-c13=""><dt _ngcontent-c13="">发表：</dt><dd _ngcontent-c13="">2018年9月23日</dd></dl><!----><dl _ngcontent-c13="" class="ng-star-inserted"><dt _ngcontent-c13="">修改：</dt><dd _ngcontent-c13="">2019年3月5日</dd></dl><br _ngcontent-c13=""><!----><dl _ngcontent-c13="" class="ng-star-inserted"><dt _ngcontent-c13="">收录：</dt><dd _ngcontent-c13=""><a _ngcontent-c13="" href="/articles/69f9cc1e_%E6%96%87%E9%9B%86%E6%94%B9%E5%90%8D%E4%B8%BA%E4%B8%93%E6%A0%8F">雪狼湖</a></dd></dl></div><app-markdown-viewer _ngcontent-c13="" _nghost-c14=""><div _ngcontent-c14=""><h1>RxJS 快速入门</h1>
<blockquote>
<p>这是一篇给新手的 RxJS 快速入门，它可能不精确、不全面，但力求对新手友好。</p>
</blockquote>
<h2>异步与“回调地狱”</h2>
<p>我们都知道 JavaScript 是个多范式语言，它既支持过程式编程，又支持函数式编程，两者分别适用于不同的场合。在同步环境下，两者各有优缺点，甚至有时候过程式会更简明一些，但在异步环境下（最典型的场景是一个 Ajax 请求完成后紧接着执行另一个 Ajax 请求），由于无法控制执行和完成的顺序，所以就无法使用传统的过程式写法，函数式就会展现出其优势。</p>
<p>问题在于，传统的函数式写法实在太不友好了。</p>
<p>传统写法下，当我们调用一个 Ajax 时，就要给它一个回调函数，这样当 Ajax 完成时，就会调用它。当逻辑简单的时候，这毫无问题。但是我要串起 10 个 Ajax 请求时该怎么办呢？十重嵌套吗？恩？似乎有点不对劲儿！</p>
<p>这就是回调地狱。</p>
<p>不仅如此，有时候我到底需要串起多少个 Ajax 请求是未知的，要串起哪些也同样是未知的。这已经不再是地狱，而是《Mission: Impossible》了。</p>
<h2>我，承诺（Promise），帮你解决</h2>
<p>事实上，这样的问题早在 1976 年就已经被发现并解决了。注意，我没写错，确实是 1976 年。</p>
<p>承诺，英文是 Promise <code>[ˈprɑmɪs]</code>，它的基本思想是借助一个代表回执的变量来把回调地狱拍平。</p>
<p>我们以购物为例来看看日常生活中的承诺。</p>
<ol>
<li>你去电商平台下单，并付款</li>
<li>平台会给你一个订单号，这个订单号本质上是一个回执，代表商家做出了“稍后我将给你发货”的承诺</li>
<li>商家发货给你，在这个过程中你不用等待（异步）</li>
<li>过一段时间，快递到了</li>
<li>你签收（回调函数被调用）商品（回调参数）</li>
<li>这次承诺结束</li>
</ol>
<p>这是最直白的单步骤回调，如果理解了它，再继续往下看。</p>
<p>你跟电商下的单，但是却从快递（并不属于商家）那里接收到了商品，仔细想想，你不觉得奇怪吗？虽然表面看确实是商家给你的商品，但我们分解开中间步骤就会发现还有一些幕后的步骤。</p>
<ol>
<li>商家把商品交给快递公司，给快递公司一个订单号（老的回执）并拿回一个运单号（新的回执）</li>
<li>快递公司执行这个新承诺，这个过程中商家不用等待（异步）</li>
<li>快递公司完成这个新承诺，你收到这个新承诺携带的商品</li>
</ol>
<p>所以，事实上，这个购物流程包括两个承诺：</p>
<ol>
<li>商家对你的一个发货承诺</li>
<li>快递公司对商家的运货承诺</li>
</ol>
<p>因此，只要把这些承诺串起来，这些异步动作也就同样串起来了。</p>
<p>当我们把每个承诺都抽象成一个对象时，我们就可以对任意数量、任意顺序的承诺进行组合，变成一个新的承诺。因此回调地狱不复存在，前述的 Mission 也变得 Possible 了。</p>
<h2>Promise 的缺点</h2>
<p>Promise 固然是一个重大的进步，但在有些场景下仍然是不够的。比如，Promise 的特点是无论有没有人关心它的执行结果，它都会立即开始执行，并且你没有机会取消这次执行。显然，在某些情况下这么做是浪费的甚至错误的。仍然以电商为例，如果某商户的订单不允许取消，你还会去买吗？再举个编程领域的例子：如果你发起了一个 Ajax 请求，然后用户导航到了另一个路由，显然，你这个请求如果还没有完成就应该被取消，而不应该发出去。但是使用 Promise，你做不到，不是因为实现方面的原因，而是因为它在概念层（接口定义上）就无法支持取消。</p>
<p>此外，由于 Promise 只会承载一个值，因此当我们要处理的是一个集合的时候就比较困难了。比如对于一个随机数列（总数未知），如果我们要借助 Web API 检查每个数字的有效性，然后对前一百个有效数字进行求和，那么用 Promise 写就比较麻烦了。</p>
<p>我们需要一个更高级的 Promise。</p>
<h2>Observable</h2>
<p>它就是可观察对象（Observable <code>[əbˈzɜrvəbl]</code>），Observable 顾名思义就是可以被别人观察的对象，当它变化时，观察者就可以得到通知。换句话说，它负责生产数据，别人可以消费它生产的数据。</p>
<p>如果你是个资深后端，那么可能还记得 MessageQueue 的工作模式，它们很像。如果不懂 MQ 也没关系，我还是用日常知识给你打个比方。</p>
<p>Observable 就像个传送带。这个传送带不断运行，围绕这个传送带建立了一条生产线，包括一系列工序，不同的工序承担单一而确定的职责。每个工位上有一个工人。</p>
<p>整个传送带的起点是原料箱，原料箱中的原料不断被放到传送带上。工人只需要待在自己的工位上，对面前的原料进行加工，然后放回传送带上或放到另一条传送带上即可，简单、高效、无意外 —— 符合程序员的审美。</p>
<p>而且这个生产线还非常先进 —— 不接单就不生产，非常有效地杜绝了浪费。</p>
<h2>FRP</h2>
<p>这种设计，看上去很美，对吧？但光看着漂亮可不行，在编程时要怎么实现呢？实际上，这是一种编程范式，叫做函数响应式编程（FRP）。它比 Promise 可年轻多了，直到 1997 年<strong>才</strong>被人提出来。</p>
<p>顾名思义，FRP 同时具有函数式编程和响应式编程的特点。响应式编程是什么呢？形象的说，它的工作模式就是“饭来张口，衣来伸手”，也就是说，等待外界的输入，并做出响应。流水线每个工位上的工人正是这种工作模式。</p>
<p>工业上，流水线是人类管理经验的结晶，它所做的事情是什么呢？本质上就是把每个处理都局部化，以减小复杂度（降低对工人素质的要求）。而这，正是软件行业所求之不得的。响应式，就是编程领域的流水线。</p>
<p>那么函数式呢？函数式最显著的特征就是没有副作用，而这恰好是对流水线上每个工序的要求。显然，如果某个工序的操作会导致整个生产线平移 10 米，那么用不了多久这个生产线就要掉到海里了，这样的生产线毫无价值。</p>
<p>因此，响应式和函数式几乎是注定要在一起的。</p>
<h2>ReactiveX</h2>
<p>2012 年，微软 .NET 开发组的一个团队为了给 LinQ 设计扩展机制而引入了 FRP 概念，却发现 FRP 的价值不止于此。于是一个新的项目出现了，它就是 ReactiveX。</p>
<p>严格来说 ReactiveX 应该是一<strong>组</strong> FRP 库，因为它几乎在每个主流语言下都提供了实现，而且这些实现都是语言原生风格的，不是简单地迁移。如果你在任何语言下用过带有 Rx 前缀的库，那多半儿就是 ReactiveX 的一个实现了，如 RxJava、Rx.NET、RxGroovy、RxSwift 等等。</p>
<p>ReactiveX 本身其实并不难，难的是 FRP 编程范式以及对操作符（operator）的理解。所以，只要学会了任何一个 <code>Rx*</code> 库，那么其它语言的库就可以触类旁通了。</p>
<h2>宝石图</h2>
<p>为了帮助开发者更容易地理解 ReactiveX 的工作原理，ReactiveX 开发组还设计了一种很形象的图，那就是宝石图。这货长这样（英文注释不必细看，接下来我会简单解释下）：</p>
<p><img src="/assets/content/articles/%E6%B1%AA%E5%BF%97%E6%88%90%E4%B8%93%E6%A0%8F/rxjs-quickstart_images/marble-diagram.png" alt="宝石图"></p>
<p>中间的带箭头的线就像传送带，用来表示数据序列，这个数据序列被称为“流”。上方的流叫做输入流，下方的流叫做输出流。输入流可能有多个，但是输出流只会有一个（不过，流中的每个数据项也可以是别的流）。</p>
<p>数据序列上的每个圆圈表示一个数据项，圆圈的位置表示数据出现的先后顺序，但是一般不会表示精确的时间比例，比如在一毫秒内接连出现的两个数据之间仍然会有较大的距离。只有少数涉及到时间的操作，其宝石图才会表现出精确的时间比例。</p>
<p>圆圈的最后，通常会有一条竖线或者一个叉号。竖线表示这个流正常终止了，也就是说不会再有更多的数据提供出来了。而叉号表示这个流抛出错误导致异常中止了。还有一种流，既没有竖线也没有叉号，这种叫做无尽流，比如一个由所有自然数组成的流就不会主动终止。但是要注意，无尽流仍然是可以处理的，因为需要多少项是由消费者决定的。你可以把这个“智能”传送带理解为由下一个工位“叫号”的，没“叫号”下一项数据就不会过来。</p>
<p>中间的大方框表示一个操作，也就是 operator —— 一个函数，比如这个图中的操作就是把输入流中的条目乘以十后放入输出流中。</p>
<p>看懂了宝石图，就能很形象的理解各种操作符了。</p>
<h2>RxJS</h2>
<p>主角登场了。RxJS 就是 ReactiveX 在 JavaScript 语言上的实现。对于 JavaScript 程序员来说，不管你是前端还是 NodeJS 后端，RxJS 都会令你受益。</p>
<p>由于 JavaScript 本身的缺陷，RxJS 不得不采用了很多怪异的写法。它对于 Java / C# 等背景的程序员来说可能会显得比较怪异，不过，你可以先忽略它们，聚焦在编程范式和接下来要讲的操作符语义上。</p>
<h3>典型的写法</h3>
<pre><code><span class="hljs-keyword">of</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>).pipe(
  <span class="hljs-built_in">filter</span>(<span class="hljs-keyword">item</span>=&gt;<span class="hljs-keyword">item</span> % <span class="hljs-number">2</span> === <span class="hljs-number">1</span>),
  map(<span class="hljs-keyword">item</span>=&gt;<span class="hljs-keyword">item</span> * <span class="hljs-number">3</span>),
).subscribe(<span class="hljs-keyword">item</span>=&gt; console.<span class="hljs-built_in">log</span>(<span class="hljs-keyword">item</span>))</code></pre><p>它会输出：</p>
<pre><code><span class="hljs-number">3</span>
<span class="hljs-number">9</span></code></pre><p>其中 of 称为创建器（creator），用来创建流，它返回一个 Observable 类型的对象，filter 和 map 称为操作符（operator），用来对条目进行处理。这些操作符被当作 Observable 对象的 pipe 方法的参数传进去。诚然，这个写法略显怪异，不过这主要是被 js 的设计缺陷所迫，它已经是目前 js 体系下多种解决方案中相对好看的一种了。</p>
<p>Observable 对象的 subscribe 方法表示消费者要订阅这个流，当流中出现数据时，传给 subscribe 方法的回调函数就会被调用，并且把这个数据传进去。这个回调函数可能被调用很多次，取决于这个流中有多少条数据。</p>
<p>注意，Observable 必须被 subscribe 之后才会开始生产数据。如果没人 subscribe 它，那就什么都不会做。</p>
<h3>简单创建器</h3>
<p>广义上，创建器也是操作符的一种，不过这里我们把它单独拿出来讲。要启动生产线，我们得先提供原料。本质上，这个提供者就是一组函数，当流水线需要拿新的原料时，就会调用它。</p>
<p>你当然可以自己实现这个提供者，但通常是不用的。RxJS 提供了很多预定义的创建器，而且将来可能还会增加新的。不过，那些眼花缭乱的创建器完全没必要全记住，只要记住少数几个就够了，其它的有时间慢慢看。</p>
<h4>of - 单一值转为流</h4>
<p><img src="/assets/content/articles/%E6%B1%AA%E5%BF%97%E6%88%90%E4%B8%93%E6%A0%8F/rxjs-quickstart_images/creator-of.png" alt="creator-of"></p>
<p>它接收任意多个参数，参数可以是任意类型，然后它会把这些参数逐个放入流中。</p>
<h4>from - 数组转为流</h4>
<p><img src="/assets/content/articles/%E6%B1%AA%E5%BF%97%E6%88%90%E4%B8%93%E6%A0%8F/rxjs-quickstart_images/creator-from.png" alt="creator-from"></p>
<p>它接受一个数组型参数，数组中可以有任意数据，然后把数组的每个元素逐个放入流中。</p>
<h4>range - 范围转为流</h4>
<p><img src="/assets/content/articles/%E6%B1%AA%E5%BF%97%E6%88%90%E4%B8%93%E6%A0%8F/rxjs-quickstart_images/creator-range.png" alt="creator-range"></p>
<p>它接受两个数字型参数，一个起点，一个终点，然后按 1 递增，把中间的每个数字（含边界值）放入流中。</p>
<h4>fromPromise - Promise 转为流</h4>
<p>接受一个 Promise，当这个 Promise 有了输出时，就把这个输出放入流中。</p>
<p>要注意的是，当 Promise 作为参数传给 <code>fromPromise</code> 时，这个 Promise 就开始执行了，你没有机会防止它被执行。</p>
<p>如果你需要这个 Promise 被消费时才执行，那就要改用接下来要讲的 <code>defer</code> 创建器。</p>
<h4>defer - 惰性创建流</h4>
<p><img src="/assets/content/articles/%E6%B1%AA%E5%BF%97%E6%88%90%E4%B8%93%E6%A0%8F/rxjs-quickstart_images/creator-defer.png" alt="creator-defer"></p>
<p>它的参数是一个用来生产流的工厂函数。也就是说，当消费方需要流（注意不是需要流中的值）的时候，就会调用这个函数，创建一个流，并从这个流中进行消费（取数据）。</p>
<p>因此，当我们定义 defer 的时候，实际上还不存在一个真正的流，只是给出了创建这个流的方法，所以叫惰性创建流。</p>
<h4>timer - 定时器流</h4>
<p><img src="/assets/content/articles/%E6%B1%AA%E5%BF%97%E6%88%90%E4%B8%93%E6%A0%8F/rxjs-quickstart_images/creator-timer.png" alt="creator-timer"></p>
<p>它有两个数字型的参数，第一个是首次等待时间，第二个是重复间隔时间。从图上可以看出，它实际上是个无尽流 —— 没有终止线。因此它会按照预定的规则往流中不断重复发出数据。</p>
<p>要注意，虽然名字有相关性，但它<strong>不是</strong> <code>setTimeout</code> 的等价物，事实上它的行为更像是 <code>setInterval</code>。</p>
<h4>interval - 定时器流</h4>
<p><img src="/assets/content/articles/%E6%B1%AA%E5%BF%97%E6%88%90%E4%B8%93%E6%A0%8F/rxjs-quickstart_images/creator-interval.png" alt="creator-interval"></p>
<p>它和 timer 唯一的差别是它只接受一个参数。事实上，它就是一个语法糖，相当于 <code>timer(1000, 1000)</code>，也就是说初始等待时间和间隔时间是一样的。</p>
<p>如果需求确实是 <code>interval</code> 的语义，那么就优先使用这个语法糖，毕竟，从行为上它和 <code>setInterval</code> 几乎是一样的。</p>
<p>思考题：假设点了一个按钮之后我要立刻开始一个动作，然后每隔 1000 毫秒重复一次，该怎么做？换句话说：该怎么移除首次延迟时间？</p>
<h3>Subject - 主体对象</h3>
<p>它和创建器不同，创建器是供直接调用的函数，而 Subject 则是一个实现了 Observable 接口的类。也就是说，你要先把它 <code>new</code> 出来（假设实例叫 <code>subject</code>），然后你就可以通过程序控制的方式往流里手动放数据了。它的典型用法是用来管理事件，比如当用户点击了某个按钮时，你希望发出一个事件，那么就可以调用 <code>subject.next(someValue)</code> 来把事件内容放进流中。</p>
<p>当你希望手动控制往这个流中放数据的时机时，这种特性非常有用。</p>
<p>当然，Subject 其实并没有这么简单，用法也很多，不过这部分内容超出了本文的范围。</p>
<h3>合并创建器</h3>
<p>我们不但可以直接创建流，还可以对多个现有的流进行不同形式的合并，创建一个新的流。常见的合并方式有三种：并联、串联、拉链。</p>
<h4>merge - 并联</h4>
<p><img src="/assets/content/articles/%E6%B1%AA%E5%BF%97%E6%88%90%E4%B8%93%E6%A0%8F/rxjs-quickstart_images/creator-merge.png" alt="creator-merge"></p>
<p>从图上我们可以看到两个流中的内容被合并到了一个流中。只要任何一个流中出现了值就会立刻被输出，哪怕其中一个流是完全空的也不影响结果 —— 等同于原始流。</p>
<p>这种工作方式非常像电路中的并联行为，因此我称其为并联创建器。</p>
<p>并联在什么情况下起作用呢？举个例子吧：有一个列表需要每隔 5 秒钟定时刷新一次，但是一旦用户按了搜索按钮，就必须立即刷新，而不能等待 5 秒间隔。这时候就可以用一个定时器流和一个自定义的用户操作流（subject）merge 在一起。这样，无论哪个流中出现了数据，都会进行刷新。</p>
<h4>concat - 串联</h4>
<p><img src="/assets/content/articles/%E6%B1%AA%E5%BF%97%E6%88%90%E4%B8%93%E6%A0%8F/rxjs-quickstart_images/creator-concat.png" alt="creator-concat"></p>
<p>从图中我们可以看到两个流中的内容被按照顺序放进了输出流中。前面的流尚未结束时（注意竖线），后面的流就会一直等待。</p>
<p>这种工作方式非常像电路中的串联行为，因此我称其为串联创建器。</p>
<p>串联的适用场景就很容易想象了，比如我们需要先通过 Web API 进行登录，然后取学生名册。这两个操作就是异步且串联工作的。</p>
<h4>zip - 拉链</h4>
<p><img src="/assets/content/articles/%E6%B1%AA%E5%BF%97%E6%88%90%E4%B8%93%E6%A0%8F/rxjs-quickstart_images/creator-zip.png" alt="creator-zip"></p>
<p>zip 的直译就是拉链，事实上，有些压缩软件的图标就是一个带拉链的钥匙包。拉链的特点是两边各有一个“齿”，两者会啮合在一起。这里的 zip 操作也是如此。</p>
<p>从图上我们可以看到，两个输入流中分别出现了一些数据，当仅仅输入流 A 中出现了数据时，输出流中什么都没有，因为它还在等另一个“齿”。当输出流 B 中出现了数据时，两个“齿”都凑齐了，于是对这两个齿执行中间定义的运算（取 A 的形状，B 的颜色，并合成为输出数据）。</p>
<p>可以看到，当任何一个流先行结束之后，整个输出流也就结束了。</p>
<p>拉链创建器适用的场景要少一些，通常用于合并两个数据有对应关系的数据源。比如一个流中是姓名，另一个流中是成绩，还有一个流中是年龄，如果这三个流中的每个条目都有精确的对应关系，那么就可以通过 zip 把它们合并成一个由表示学生成绩的对象组成的流。</p>
<h3>操作符</h3>
<p>RxJS 有很多操作符，事实上比创建器还要多一些，但是我们并不需要一一讲解，因为它们中的很大一部分都是函数式编程中的标配，比如 map、reduce、filter 等。有 Java 8 / scala / kotlin 等基础的后端或者用过 underscore/lodash 的前端都可以非常容易地理解它们。</p>
<p>本文重点讲解一些传统方式下没有的或不常用的：</p>
<h4>retry - 失败时重试</h4>
<p><img src="/assets/content/articles/%E6%B1%AA%E5%BF%97%E6%88%90%E4%B8%93%E6%A0%8F/rxjs-quickstart_images/operator-retry.png" alt="operator-retry"></p>
<p>有些错误是可以通过重试进行恢复的，比如临时性的网络丢包。甚至一些流程的设计还会故意借助重试机制，比如当你发起请求时，如果后端发现你没有登录过，就会给你一个 401 错误，然后你可以完成登录并重新开始整个流程。</p>
<p>retry 操作符就是负责在失败时自动发起重试的，它可以接受一个参数，用来指定最大重试次数。</p>
<p>这里我为什么一直在强调失败时重试呢？因为还有一个操作符负责成功时重试。</p>
<h4>repeat - 成功时重试</h4>
<p><img src="/assets/content/articles/%E6%B1%AA%E5%BF%97%E6%88%90%E4%B8%93%E6%A0%8F/rxjs-quickstart_images/operator-repeat.png" alt="operator-repeat"></p>
<p>除了重复的条件之外，repeat 的行为几乎和 retry 一模一样。</p>
<p>repeat 很少会单独用，一般会组合上 delay 操作，以提供暂停时间，否则就容易 DoS 了服务器。</p>
<h4>delay - 延迟</h4>
<p><img src="/assets/content/articles/%E6%B1%AA%E5%BF%97%E6%88%90%E4%B8%93%E6%A0%8F/rxjs-quickstart_images/operator-delay.png" alt="operator-delay"></p>
<p>这才是真正的 setTimeout 的等价操作。它接受一个毫秒数（图中是 20 毫秒），每当它从输入流中读取一个数据之后，会先等待 20 毫秒，然后再放到输出流中。</p>
<p>可以看到，输入流和输出流内容是完全一样的，只是时机上，输出流中的每个条目都恰好比输入流晚 20 毫秒出现。</p>
<h4>toArray - 收集为数组</h4>
<p><img src="/assets/content/articles/%E6%B1%AA%E5%BF%97%E6%88%90%E4%B8%93%E6%A0%8F/rxjs-quickstart_images/operator-to-array.png" alt="operator-toArray"></p>
<p>事实上，你几乎可以把它看做是 from 的逆运算。
from 把数组打散了逐个放进流中，而 toArray 恰好相反，把流中的内容收集到一个数组中 —— 直到这个流结束。</p>
<p>这个操作符几乎总是放在最后一步，因为 RxJS 的各种 operator 本身就可以对流中的数据进行很多类似数组的操作，比如查找最小值、最大值、过滤等。所以通常会先使用各种 operator 对数据流进行处理，等到要脱离 RxJS 的体系时，再转换成数组传出去。</p>
<h4>debounceTime - 防抖</h4>
<p><img src="/assets/content/articles/%E6%B1%AA%E5%BF%97%E6%88%90%E4%B8%93%E6%A0%8F/rxjs-quickstart_images/operator-debounce-time.png" alt="operator-debounceTime"></p>
<p>在 underscore/lodash 中这是常用函数。
所谓防抖其实就是“等它平静下来”。比如预输入（type ahead）功能，当用户正在快速打字的时候，你没必要立刻去查服务器，否则可能直接让服务器挂了，而应该等用户稍作停顿（平静下来）时再发起查询。</p>
<p>debounceTime 就是这样，你传入一个最小平静时间，在这个时间窗口内连续过来的数据一概被忽略，一旦平静时间超过它，就会往把接收到的下一条数据放到流中。这样消费者就只能看到平静时间超时之后发来的最后一条数据。</p>
<h4>switchMap - 切换成另一个流</h4>
<p><img src="/assets/content/articles/%E6%B1%AA%E5%BF%97%E6%88%90%E4%B8%93%E6%A0%8F/rxjs-quickstart_images/operator-switchMap.png" alt="operator-switchMap"></p>
<p>这可能是相对较难理解的一个 operator。</p>
<p>有时候，我们会希望根据一个立即数发起一个远程查询，并且把这个异步取回的结果放进流中。比如，流中是一些学生的 id，每过来一个 id，你要发起一个 Ajax 请求来根据这个 id 获取这个学生的详情，并且把详情放进输出流中。</p>
<p>注意，这是一个异步操作，所以你没法用普通的 map 来实现，否则映射出来的结果就会是一个个 Observable 对象。</p>
<p>switchMap 就是用来解决这个问题的。它在回调函数中接受从输入流中传来的数据，并转换成一个新的 Observable 对象（新的流，每个流中包括三个值，每个值都等于输入值的十倍），switchMap 会订阅这个 Observable 对象，并把它的值放入输出流中。注意图中竖线的位置 —— 只有当所有新的流都结束时，输出流才会结束。</p>
<p>不知道你有没有注意到这里一个很重要的细节。30 只生成了两个值，而不是我们所预期的三个。这是因为当输入流中的 5 到来时，会切换到以 5 为参数构建出的这个新流（S5），而这时候基于 3 构建的那个流（S3）尚未结束。虽然如此，但是已经没人再订阅 S3 了，因为同一时刻 switchMap 只能订阅一个流。所以，已经没人会再朝着 S3 “叫号”了，它已经被释放了。</p>
<h3>规律：operator 打包学</h3>
<p>当你掌握了一些基本操作符之后，就可以让自己的操作符知识翻倍了。</p>
<p>这是因为 RxJS 中的很多操作符都遵循着同样的命名模式。比如：</p>
<h4>xxxWhen - 满足条件时 xxx</h4>
<p>它接受一个 Observable 型参数作为条件流，一旦这个条件流中出现任意数据，则进行 xxx 操作。</p>
<p>如 <code>retryWhen(notifier$)</code>，其中的 <code>notifier$</code> 就是一个条件流。当输入流出现异常时，就会开始等待 <code>notifier$</code> 流中出现数据，一旦出现了任何数据（不管是什么值），就会开始执行重试逻辑。</p>
<h4>xxxCount - 拿到 n 个数据项时 xxx</h4>
<p>它接受一个数字型参数作为阈值，一旦从输入流中取到了 n 个数据，则进行 xxx 操作。</p>
<p>如 <code>bufferCount(3)</code> 表示每拿到 3 个数据就进行一次 <code>buffer</code> 操作。</p>
<p>这个操作可以看做是 <code>xxxWhen</code> 的语法糖。</p>
<h4>xxxTime - 超时后 xxx</h4>
<p>它接受一个超时时间作为参数，从输入流中取数据，一旦到达超时时间，则执行 xxx 操作。</p>
<p>比如前面讲过的 <code>debounceTime</code> 其实遵循的就是这种模式。</p>
<p>这个操作可以看做 <code>xxxWhen</code> 的语法糖。</p>
<h4>xxxTo - 用立即量代替 Lambda 表达式</h4>
<p>它接受一个立即量作为参数，相当于 <code>xxx(()=&gt;value))</code>。</p>
<p>比如 <code>mapTo('a')</code> 其实是 <code>map(()=&gt;'a')</code> 的语法糖，也就是说无论输入流中给出的值是什么，我往输出流中放入的都是这个固定的值。</p>
<h3>坑与最佳实践</h3>
<h4>取消订阅</h4>
<p>subscribe 之后，你的回调函数就被别人引用了，因此如果不撤销对这个回调函数的引用，那么与它相关的内存就永远不会释放，同时，它仍然会在流中有数据过来时被调用，可能会导致奇怪的 console.log 等意外行为。</p>
<p>因此，必须找到某个时机撤销对这个回调函数的引用。但其实不一定需要那么麻烦。解除对回调函数的引用有两种时机，一种是这个流完成（complete，包括正常结束和异常结束）了，一种是订阅方主动取消。当流完成时，会自动解除全部订阅回调，而所有的有限流都是会自动完成的。只有无尽流才需要特别处理，也就是订阅方要主动取消订阅。</p>
<p>当调用 <code>Observable</code> 的 <code>subscribe</code> 方法时，会返回一个 <code>Subscription</code> 类型的引用，它实际上是一个订阅凭证。把它保存下来，等恰当的时机调用它的 <code>unsubscribe</code> 方法就可以取消订阅了。比如在 Angular 中，如果你订阅了无尽流，那么就需要把订阅凭证保存在私有变量里，并且在 <code>ngOnDestroy</code> 回调中调用它的 <code>unsubscribe</code> 方法。</p>
<h4>类型检查</h4>
<p>只要有可能，请尽量使用 TypeScript 来书写 RxJS 程序。由于大量 operator 都会改变流中的数据类型，因此如果靠人力来追踪数据类型的变化既繁琐又容易出错。TypeScript 的类型检查可以给你提供很大的帮助，既省心又安全，而且这两个都是微软家的，搭配使用，风味更佳。</p>
<h4>代码风格</h4>
<p>如同所有 FP 程序一样，ReactiveX 的代码也应该由一系列小的、单一职责的、无副作用的函数组成。虽然 JavaScript 无法像 Java 中那样对 Lambda 表达式的副作用做出编译期限制，但是仍然要遵循同样的原则，坚持无副作用和数据不变性。</p>
<h2>寄语 - 实践出真知</h2>
<p>ReactiveX 大家族看似庞大，实则简单 —— 如果你已经有了 Java 8+ / Kotlin / underscore 或 lodash 等函数式基础知识时，新东西就很少了。而当你用过 Rx 大家族中的任何一个成员时，RxJS 对你几乎是免费的，反之也一样。</p>
<p>唯一的问题，就是找机会实践，并体会 FRP 风格的独特之处，获得那些超乎具体技术之上的真知灼见。</p>
</div></app-markdown-viewer></app-article-show></mat-sidenav-content><!----></mat-sidenav-container></app-layout-nav></app-article-layout></app-root>
<script src="/assets/js/translator.js" async=""></script>
<script type="text/javascript" src="runtime.9dbc0c306f01ba3805bf.js"></script><script type="text/javascript" src="polyfills.53c2af414a078f039587.js"></script><script type="text/javascript" src="main.fe512ad82712af734a82.js"></script>

</body></html>