<!DOCTYPE html><html lang="zh"><head>
  <link href="/assets/css/material-icons.css" rel="stylesheet">
  <link href="/assets/css/material-roboto-mono.css" rel="stylesheet">
  <link href="/assets/css/translator.css" rel="stylesheet">
  <meta charset="utf-8">
  <title>ç”¨ RxJS ä¿è¯äº‹ä»¶é¡ºåº - [è¯‘] Juristr.com - Angular èµ„æºé›†é”¦</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
<link rel="stylesheet" href="styles.63d874d3414969525bd7.css"><style></style><script charset="utf-8" src="1.76fb5c19f4f53d13a222.js"></script><script charset="utf-8" src="6.351fc6f1f58006ce2a73.js"></script><style>[_nghost-c2]{height:100vh;display:flex;flex-direction:column}.sidenav-container[_ngcontent-c2]{flex:auto}.sidenav[_ngcontent-c2]{width:300px}.mat-toolbar.mat-primary[_ngcontent-c2]{flex:none}.mat-toolbar.mat-primary.header[_ngcontent-c2]{top:0;margin-bottom:8px}img[_ngcontent-c2]{width:183px;margin-right:1rem;vertical-align:middle}[mat-button][_ngcontent-c2]{min-width:auto}[mat-button].active[_ngcontent-c2]{margin-bottom:-2px;border-bottom:2px solid #fff}mat-sidenav-content[_ngcontent-c2]{position:absolute;top:0;bottom:0;left:0;right:0;overflow-y:auto;padding-left:1rem;padding-right:1rem}a.site-title[_ngcontent-c2]{text-decoration:none;color:#fff}a.site-title[_ngcontent-c2]:visited{color:#fff}</style><style>.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:0}mat-action-list button{background:0 0;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:0}@media (-ms-high-contrast:active){.mat-selection-list:focus{outline-style:dotted}.mat-list-option:focus,.mat-list-option:hover,.mat-nav-list .mat-list-item:focus,.mat-nav-list .mat-list-item:hover,mat-action-list .mat-list-item:focus,mat-action-list .mat-list-item:hover{outline:dotted 1px}}@media (hover:none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover{background:0 0}}</style><style>[_nghost-c4]{display:block}app-nav-node[_ngcontent-c4]{margin-left:1rem}.title[_ngcontent-c4]{flex:auto;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}mat-list-item[_ngcontent-c4]   .title[_ngcontent-c4]{display:inline-block;padding:12px 0}</style><style>@media (-ms-high-contrast:active){.mat-toolbar{outline:solid 1px}}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width:599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}</style><style>svg[_ngcontent-c8]{vertical-align:middle}</style><style>.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-opened{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}@media (-ms-high-contrast:active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}@media (-ms-high-contrast:active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media (-ms-high-contrast:active){.mat-drawer.mat-drawer-end,[dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}</style><style>.doc-info[_ngcontent-c13]{margin:1rem 0;color:#777}dl[_ngcontent-c13]{display:inline-flex;margin:0 2rem 1rem 0}dl[_ngcontent-c13] > dt[_ngcontent-c13]{flex:none;font-style:normal}dl[_ngcontent-c13] > dd[_ngcontent-c13]{flex:auto;margin-left:0;padding:0}dl[_ngcontent-c13] > dd[_ngcontent-c13] > a[_ngcontent-c13]{margin-right:1rem}</style><style>[_nghost-c14]{display:block}</style><style>.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}</style><style>svg[_ngcontent-c10]{vertical-align:middle}</style><style>.mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}</style></head>
<body>
<app-root _nghost-c0="" ng-version="7.2.7"><router-outlet _ngcontent-c0=""></router-outlet><app-article-layout _nghost-c1="" class="ng-star-inserted"><app-layout-nav _ngcontent-c1="" _nghost-c2=""><mat-toolbar _ngcontent-c2="" class="mat-elevation-z6 header mat-toolbar mat-primary mat-toolbar-single-row" color="primary"><!----><a _ngcontent-c2="" routerlink="/" href="/"><app-icon-angular _ngcontent-c2="" _nghost-c8=""><svg _ngcontent-c8="" xml:space="preserve" height="48" id="Layer_1" version="1.1" viewBox="0 0 250 250" width="48" xmlns="http://www.w3.org/2000/svg"><style _ngcontent-c8="" type="text/css"> .st0 { fill: #DD0031; } .st1 { fill: #C3002F; } .st2 { fill: #FFFFFF; }
</style><g _ngcontent-c8=""><polygon _ngcontent-c8="" class="st0" points="125,30 125,30 125,30 31.9,63.2 46.1,186.3 125,230 125,230 125,230 203.9,186.3 218.1,63.2  "></polygon><polygon _ngcontent-c8="" class="st1" points="125,30 125,52.2 125,52.1 125,153.4 125,153.4 125,230 125,230 203.9,186.3 218.1,63.2 125,30  "></polygon><path _ngcontent-c8="" class="st2" d="M125,52.1L66.8,182.6h0h21.7h0l11.7-29.2h49.4l11.7,29.2h0h21.7h0L125,52.1L125,52.1L125,52.1L125,52.1   L125,52.1z M142,135.4H108l17-40.9L142,135.4z"></path></g></svg></app-icon-angular></a><a _ngcontent-c2="" class="site-title" routerlink="/" href="/"><!----><!----><div _ngcontent-c2="" class="ng-star-inserted"><img _ngcontent-c2="" alt="Angular èµ„æºé›†é”¦" src="/assets/icons/logo.svg"></div></a><!----><!----><div _ngcontent-c2="" class="flex-spacer ng-star-inserted"></div><a _ngcontent-c2="" aria-label="GitHub ä»“åº“" href="https://github.com/ng-docs/awesome-angular" mat-button="" target="_blank" class="mat-button ng-star-inserted" tabindex="0" aria-disabled="false"><span class="mat-button-wrapper"><app-icon-github _ngcontent-c2="" _nghost-c10=""><svg _ngcontent-c10="" height="26" viewBox="0 0 20 20" width="26" xmlns="http://www.w3.org/2000/svg"><title _ngcontent-c10=""> github-circle-white-transparent</title><path _ngcontent-c10="" d="M10 0C4.477 0 0 4.477 0 10c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V19c0 .27.16.59.67.5C17.14 18.16 20 14.42 20 10A10 10 0 0 0 10 0z" fill="#FFF" fill-rule="evenodd"></path></svg></app-icon-github></span><div class="mat-button-ripple mat-ripple" matripple=""></div><div class="mat-button-focus-overlay"></div></a></mat-toolbar><mat-sidenav-container _ngcontent-c2="" class="sidenav-container mat-drawer-container mat-sidenav-container"><!----><div class="mat-drawer-backdrop ng-star-inserted"></div><div class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div><mat-sidenav _ngcontent-c2="" class="sidenav mat-drawer mat-sidenav ng-tns-c12-0 ng-trigger ng-trigger-transform mat-drawer-side ng-star-inserted" tabindex="-1" role="navigation" style="transform: none; visibility: visible;"><div class="mat-drawer-inner-container"><mat-nav-list _ngcontent-c1="" class="mat-nav-list mat-list-base" role="navigation"><app-nav-node _ngcontent-c1="" _nghost-c4=""><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/4fddf607_Awesome_Angular_%E6%AC%A2%E8%BF%8E%E6%82%A8" style=""><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="Awesome Angular æ¬¢è¿æ‚¨ï¼"><!----> Awesome Angular æ¬¢è¿æ‚¨ï¼ </div></div></a><!----><!----><!----><!----><!----><div _ngcontent-c4="" class="ng-star-inserted" style=""><mat-list-item _ngcontent-c4="" apptoggle="" class="mat-list-item"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><a _ngcontent-c4="" class="title" title="é›ªç‹¼æ¹–" href="/articles/69f9cc1e_%E6%96%87%E9%9B%86%E6%94%B9%E5%90%8D%E4%B8%BA%E4%B8%93%E6%A0%8F">é›ªç‹¼æ¹–</a><!----><!----><mat-icon _ngcontent-c4="" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" role="img" aria-hidden="true">chevron_right</mat-icon></div></mat-list-item><div _ngcontent-c4="" hidden=""><app-nav-node _ngcontent-c4="" _nghost-c4=""><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/69f9cc1e_%E6%96%87%E9%9B%86%E6%94%B9%E5%90%8D%E4%B8%BA%E4%B8%93%E6%A0%8F"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="ä½œè€…å¯„è¯­"><!----><span _ngcontent-c4="" class="ng-star-inserted">0.&nbsp;</span> ä½œè€…å¯„è¯­ </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/3e892ab0_%E5%BE%AE%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="å¾®å‰ç«¯æ¦‚è¿°"><!----><span _ngcontent-c4="" class="ng-star-inserted">1.&nbsp;</span> å¾®å‰ç«¯æ¦‚è¿° </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/23a34d9e_RxJS_%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="RxJS å¿«é€Ÿå…¥é—¨"><!----><span _ngcontent-c4="" class="ng-star-inserted">2.&nbsp;</span> RxJS å¿«é€Ÿå…¥é—¨ </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/bdde8563_%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B%E6%8C%87%E5%8D%97"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="æŠ€æœ¯é€‰å‹æŒ‡å—"><!----><span _ngcontent-c4="" class="ng-star-inserted">3.&nbsp;</span> æŠ€æœ¯é€‰å‹æŒ‡å— </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/37c88f8a_%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98%E8%A6%81%E6%8E%8C%E6%8F%A1%E7%9A%84%E5%8D%81%E5%85%AB%E6%9D%A1_Docker_%E7%9F%A5%E8%AF%86"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="å¼€å‘äººå‘˜è¦æŒæ¡çš„åå…«æ¡ Docker çŸ¥è¯†"><!----><span _ngcontent-c4="" class="ng-star-inserted">4.&nbsp;</span> å¼€å‘äººå‘˜è¦æŒæ¡çš„åå…«æ¡ Docker çŸ¥è¯† </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/f52d12cb_%E5%9F%BA%E4%BA%8E_Docker_%E7%9A%84%E5%90%8C%E6%9E%84%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="åŸºäº Docker çš„åŒæ„å¼€å‘ç¯å¢ƒ"><!----><span _ngcontent-c4="" class="ng-star-inserted">5.&nbsp;</span> åŸºäº Docker çš„åŒæ„å¼€å‘ç¯å¢ƒ </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/929165a6_NestJS_%E7%A5%9E%E4%BC%BC_Angular_%E7%9A%84%E5%90%8E%E7%AB%AF%E6%A1%86%E6%9E%B6"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="NestJSï¼Œç¥ä¼¼ Angular çš„åç«¯æ¡†æ¶"><!----><span _ngcontent-c4="" class="ng-star-inserted">6.&nbsp;</span> NestJSï¼Œç¥ä¼¼ Angular çš„åç«¯æ¡†æ¶ </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/88e33d45_%E6%9E%B6%E6%9E%84%E6%9D%82%E8%B0%88_737_MAX8_%E5%90%AF%E7%A4%BA%E5%BD%95"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="æ¶æ„æ‚è°ˆï¼š737 MAX8 å¯ç¤ºå½•"><!----><span _ngcontent-c4="" class="ng-star-inserted">7.&nbsp;</span> æ¶æ„æ‚è°ˆï¼š737 MAX8 å¯ç¤ºå½• </div></div></a><!----><!----></app-nav-node></div></div><!----><!----><!----><!----><div _ngcontent-c4="" class="ng-star-inserted" style=""><mat-list-item _ngcontent-c4="" apptoggle="" class="mat-list-item"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><a _ngcontent-c4="" class="title" title="[è¯‘] NgxBlog" href="/articles/22c33ef1_%E6%B7%BB%E5%8A%A0_ngx-blog_%E7%9A%84%E7%AE%80%E4%BB%8B">[è¯‘] NgxBlog</a><!----><!----><mat-icon _ngcontent-c4="" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" role="img" aria-hidden="true">chevron_right</mat-icon></div></mat-list-item><div _ngcontent-c4="" hidden=""><app-nav-node _ngcontent-c4="" _nghost-c4=""><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/22c33ef1_%E6%B7%BB%E5%8A%A0_ngx-blog_%E7%9A%84%E7%AE%80%E4%BB%8B"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="ä¸“æ ç®€ä»‹"><!----><span _ngcontent-c4="" class="ng-star-inserted">0.&nbsp;</span> ä¸“æ ç®€ä»‹ </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/900f8f1a_Useful__code_extentions_for_Angular_developers"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="å¯¹ Angular å¼€å‘è€…æœ‰ç”¨çš„ @code æ‰©å±•"><!----><span _ngcontent-c4="" class="ng-star-inserted">1.&nbsp;</span> å¯¹ Angular å¼€å‘è€…æœ‰ç”¨çš„ @code æ‰©å±• </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/833b98b3_Dont_get_lost_in_structure"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="ä¸è¦ä¸ºé¡¹ç›®ç»“æ„å‘æ„"><!----><span _ngcontent-c4="" class="ng-star-inserted">2.&nbsp;</span> ä¸è¦ä¸ºé¡¹ç›®ç»“æ„å‘æ„ </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/b56b195b_Translate__i18n__your_Angular_Apps_with__ngx-translate_core"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="ä½¿ç”¨ @ngx-translate/core ç¿»è¯‘ï¼ˆi18nï¼‰ä½ çš„ Angular åº”ç”¨"><!----><span _ngcontent-c4="" class="ng-star-inserted">3.&nbsp;</span> ä½¿ç”¨ @ngx-translate/core ç¿»è¯‘ï¼ˆi18nï¼‰ä½ çš„ Angular åº”ç”¨ </div></div></a><!----><!----></app-nav-node></div></div><!----><!----><!----><!----><div _ngcontent-c4="" class="ng-star-inserted" style=""><mat-list-item _ngcontent-c4="" apptoggle="" class="mat-list-item active"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><a _ngcontent-c4="" class="title" title="[è¯‘] Juristr.com" href="/articles/c1ea1169_Juristr_%E5%8F%8A%E5%85%B6%E5%8D%9A%E5%AE%A2%E7%9A%84%E7%AE%80%E4%BB%8B">[è¯‘] Juristr.com</a><!----><mat-icon _ngcontent-c4="" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" role="img" aria-hidden="true">expand_more</mat-icon><!----></div></mat-list-item><div _ngcontent-c4=""><app-nav-node _ngcontent-c4="" _nghost-c4=""><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/c1ea1169_Juristr_%E5%8F%8A%E5%85%B6%E5%8D%9A%E5%AE%A2%E7%9A%84%E7%AE%80%E4%BB%8B"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="ä¸“æ ç®€ä»‹"><!----><span _ngcontent-c4="" class="ng-star-inserted">0.&nbsp;</span> ä¸“æ ç®€ä»‹ </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/c26e6a87_RxJS_finalize_operator_to_execute_logic_on_Observable_termination"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="ç”¨ RxJS çš„ finalize æ“ä½œç¬¦åœ¨ Observable ç»ˆæ­¢æ—¶æ‰§è¡Œé€»è¾‘"><!----><span _ngcontent-c4="" class="ng-star-inserted">1.&nbsp;</span> ç”¨ RxJS çš„ finalize æ“ä½œç¬¦åœ¨ Observable ç»ˆæ­¢æ—¶æ‰§è¡Œé€»è¾‘ </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted active" mat-list-item="" routerlinkactive="active" href="/articles/032d55b5_Guarantee_Event_Order_with_RxJS"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="ç”¨ RxJS ä¿è¯äº‹ä»¶é¡ºåº"><!----><span _ngcontent-c4="" class="ng-star-inserted">2.&nbsp;</span> ç”¨ RxJS ä¿è¯äº‹ä»¶é¡ºåº </div></div></a><!----><!----></app-nav-node></div></div><!----><!----><!----><!----><div _ngcontent-c4="" class="ng-star-inserted" style=""><mat-list-item _ngcontent-c4="" apptoggle="" class="mat-list-item"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><a _ngcontent-c4="" class="title" title="[è¯‘] Shai Reznik" href="/articles/706e2b30_Shai_Reznik_%E4%B8%93%E6%A0%8F">[è¯‘] Shai Reznik</a><!----><!----><mat-icon _ngcontent-c4="" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" role="img" aria-hidden="true">chevron_right</mat-icon></div></mat-list-item><div _ngcontent-c4="" hidden=""><app-nav-node _ngcontent-c4="" _nghost-c4=""><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/706e2b30_Shai_Reznik_%E4%B8%93%E6%A0%8F"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="ä¸“æ ç®€ä»‹"><!----><span _ngcontent-c4="" class="ng-star-inserted">0.&nbsp;</span> ä¸“æ ç®€ä»‹ </div></div></a><!----><!----><!----><!----><a _ngcontent-c4="" class="mat-list-item ng-star-inserted" mat-list-item="" routerlinkactive="active" href="/articles/5802651d_Angular_Routing___A_Better_Pattern_For_Large_Scale_Apps"><div class="mat-list-item-content"><div class="mat-list-item-ripple mat-ripple" mat-ripple=""></div><div class="mat-list-text"></div><div _ngcontent-c4="" class="title" title="Angular Routing - å¤§è§„æ¨¡åº”ç”¨ä¸­æ›´å¥½çš„æ¨¡å¼"><!----><span _ngcontent-c4="" class="ng-star-inserted">1.&nbsp;</span> Angular Routing - å¤§è§„æ¨¡åº”ç”¨ä¸­æ›´å¥½çš„æ¨¡å¼ </div></div></a><!----><!----></app-nav-node></div></div><!----></app-nav-node></mat-nav-list></div></mat-sidenav><div class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div><mat-sidenav-content _ngcontent-c2="" apppartialscroller="" class="mat-drawer-content mat-sidenav-content" style="margin-left: 300px;"><router-outlet _ngcontent-c2=""></router-outlet><app-article-show _nghost-c13="" class="ng-star-inserted"><div _ngcontent-c13="" class="doc-info"><!----><dl _ngcontent-c13="" class="ng-star-inserted"><dt _ngcontent-c13="">ä½œè€…ï¼š</dt><dd _ngcontent-c13=""><a _ngcontent-c13="" href="/authors/Juri%20Strumpflohner">Juri Strumpflohner</a></dd></dl><!----><dl _ngcontent-c13="" class="ng-star-inserted"><dt _ngcontent-c13="">åŸæ–‡ï¼š</dt><dd _ngcontent-c13=""><a _ngcontent-c13="" target="_blank" href="https://juristr.com/blog/2019/01/Guarantee-Event-Order-with-RxJS/">ç‚¹æ­¤æŸ¥çœ‹</a></dd></dl><dl _ngcontent-c13=""><dt _ngcontent-c13=""> è¯‘è€…ï¼š </dt><dd _ngcontent-c13=""><a _ngcontent-c13="" href="/authors/%E6%B1%AA%E5%BF%97%E6%88%90">æ±ªå¿—æˆ</a></dd></dl><!----><dl _ngcontent-c13=""><dt _ngcontent-c13="">å‘è¡¨ï¼š</dt><dd _ngcontent-c13="">2019å¹´3æœˆ8æ—¥</dd></dl><!----><dl _ngcontent-c13="" class="ng-star-inserted"><dt _ngcontent-c13="">ä¿®æ”¹ï¼š</dt><dd _ngcontent-c13="">2019å¹´3æœˆ10æ—¥</dd></dl><br _ngcontent-c13=""><!----><dl _ngcontent-c13="" class="ng-star-inserted"><dt _ngcontent-c13="">æ”¶å½•ï¼š</dt><dd _ngcontent-c13=""><a _ngcontent-c13="" href="/articles/c1ea1169_Juristr_%E5%8F%8A%E5%85%B6%E5%8D%9A%E5%AE%A2%E7%9A%84%E7%AE%80%E4%BB%8B">[è¯‘] Juristr.com</a></dd></dl></div><app-markdown-viewer _ngcontent-c13="" _nghost-c14=""><div _ngcontent-c14=""><h1 id="guarantee-event-order-with-rxjs" translation-result="on">ç”¨ RxJS ä¿è¯äº‹ä»¶é¡ºåº</h1><h1 translation-origin="off">Guarantee Event Order with RxJS</h1>

<blockquote>
<p translation-result="on">ä½¿ç”¨ concatMap æ¥ä¿è¯äº‹ä»¶çš„æ’åº</p><p translation-origin="off">use concatMap to guarantee ordering of events</p>

</blockquote>
<p translation-result="on">å½“ä½ åˆ›å»ºåŠ¨æ€ç•Œé¢æ—¶ï¼Œç»å¸¸è¦å¤„ç†å¼‚æ­¥ã€‚å®ƒä»¬ä¸€èˆ¬æ˜¯ç”±æŸäº›ç”¨æˆ·äº¤äº’è§¦å‘çš„ã€‚å½“ä½ éœ€è¦ä¿è¯æŸäº›æ“ä½œæŒ‰é¡ºåºæ‰§è¡Œæ—¶ï¼Œäº‹æƒ…å¾€å¾€ä¼šå˜å¾—å¾ˆæ£˜æ‰‹ã€‚ç”±äºå®ƒä»¬æ˜¯å¼‚æ­¥çš„ï¼Œæˆ‘ä»¬å¯èƒ½æ— æ³•çŸ¥é“å“ªä¸€ä¸ªä¼šå…ˆè¿”å›ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹ RxJS åœ¨è¿™ç§æƒ…å†µä¸‹è¦æ€æ ·æä¾›å¸®åŠ©ã€‚</p><p translation-origin="off">When you create dynamic UIs, you have to deal with async stuff a lot. Most often they are triggered by some user interaction. Things usually get tricky when you need to guarantee certain operations are executed in order. Since they are async we might not know which one returns first. Let's see how RxJS can help a lot here.</p>

<p translation-result="on">ä¸ºäº†è¯´æ˜<strong>è¿™ä¸ªé—®é¢˜</strong>ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªç¤ºèŒƒç”¨ä¾‹ã€‚å®ƒç®€åŒ–è¿‡ï¼Œä½†ä¹Ÿä»£è¡¨äº†ä¸€ä¸ªæ½œåœ¨çš„çœŸå®ç”¨ä¾‹ã€‚</p><p translation-origin="off">In order to illustrate <strong>the problem</strong> I created an example use case, simplified of course, but still it represents a potential real world use case.</p>

<p translation-result="on"><strong>ç›®å½•</strong></p><p translation-origin="off"><strong>Table of contents</strong></p>

<ul>
<li><p translation-result="on"><a href="#tl-dr-here-s-the-corresponding-egghead-lesson">å¤ªé•¿ä¸è¯»ç‰ˆï¼šè¿™æ˜¯ç›¸åº”çš„ Egghead è¯¾ç¨‹</a></p><p translation-origin="off"><a href="#tl-dr-here-s-the-corresponding-egghead-lesson">TL;DR: Hereâ€™s the corresponding Egghead lesson</a></p>

</li>
</ul>
<ul>
<li><p translation-result="on"><a href="#the-problem">é—®é¢˜</a></p><p translation-origin="off"><a href="#the-problem">The Problem</a></p>

</li>
</ul>
<ul>
<li><p translation-result="on"><a href="#we-need-to-guarantee-ordering">æˆ‘ä»¬éœ€è¦ä¿è¯é¡ºåº</a></p><p translation-origin="off"><a href="#we-need-to-guarantee-ordering">We need to guarantee ordering</a></p>

</li>
</ul>
<ul>
<li><p translation-result="on"><a href="#a-short-note-on-wrapping-settimeout-as-observable">æŠŠ <code>setTimeout</code> åŒ…è£…æˆ Observable çš„ç®€çŸ­è¯´æ˜</a></p><p translation-origin="off"><a href="#a-short-note-on-wrapping-settimeout-as-observable">A short note on wrapping <code>setTimeout</code> as Observable</a></p>

</li>
<li><p translation-result="on"><a href="#the-entire-concatmap-example">å®Œæ•´çš„ <code>concatMap</code> ä¾‹å­</a></p><p translation-origin="off"><a href="#the-entire-concatmap-example">The entire <code>concatMap</code> example</a></p>

</li>
</ul>
<ul>
<li><p translation-result="on"><a href="#optimizing-with-switchmap">ç”¨ <code>switchMap</code> è¿›è¡Œä¼˜åŒ–</a></p><p translation-origin="off"><a href="#optimizing-with-switchmap">Optimizing with <code>switchMap</code></a></p>

</li>
</ul>
<ul>
<li><p translation-result="on"><a href="#switchmap---potential-race-conditions"><code>switchMap</code> - æ½œåœ¨çš„ç«æ€æ¡ä»¶</a></p><p translation-origin="off"><a href="#switchmap---potential-race-conditions"><code>switchMap</code> - potential race conditions</a></p>

</li>
</ul>
<ul>
<li><p translation-result="on"><a href="#conclusion">ç»“è®º</a></p><p translation-origin="off"><a href="#conclusion">Conclusion</a></p>

</li>
</ul>
<p translation-result="on">æˆ‘ä»¬å¤§è‡´ä¼šæœ‰å¦‚ä¸‹ç”¨æˆ·ç•Œé¢ï¼š</p><p translation-origin="off">We basically have the following user interface:</p>

<p><img src="/assets/content/articles/juri-strumpflohner/./gurantee-event-order-with-rxjs_images/rxjs-order-guarantee.png" alt=""></p>
<p translation-result="on">å½“ç”¨æˆ·<strong>é€‰ä¸­</strong>æŸä¸ªé€‰é¡¹æ—¶ï¼Œå°±ä¼šå‘å‡ºä¸€ä¸ª http è¯·æ±‚æ¥è·å–ä¸€äº›å€¼ï¼Œä¸€æ—¦è¯·æ±‚è¿”å›ï¼Œå°±ä¼šæŠŠå“åº”æ·»åŠ åˆ°ä¸‹é¢çš„å¯è§†åŒ–åˆ—è¡¨ä¸­ã€‚</p><p translation-origin="off">When the user <strong>checks</strong> some option, an http request is made to retrieve some value and once the request returns, the response is added to a list visualized below.</p>

<blockquote>
<p translation-result="on">ä¸ºäº†ç®€å•èµ·è§ï¼Œåœ¨è¿™ä¸ªä¼ªé€ çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»…ä»…ç”¨ <code>setTimeout(..)</code> æ¥æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚ã€‚</p><p translation-origin="off">For the sake of simplicity, in this fake example I simply use a <code>setTimeout(..)</code> to simulate the asyncronous request.</p>

</blockquote>
<p translation-result="on">å½“ç”¨æˆ·å†æ¬¡<strong>å–æ¶ˆé€‰ä¸­</strong>è¯¥é€‰é¡¹æ—¶ï¼Œç›¸åº”çš„å€¼ä¹Ÿä¼šä»ä¸‹é¢çš„åˆ—è¡¨ä¸­åˆ é™¤ï¼ˆä½†ä¸éœ€è¦ä»»ä½•å¼‚æ­¥è¯·æ±‚ï¼‰ã€‚</p><p translation-origin="off">When the user again <strong>deselects</strong> the option, the corresponding value is removed from the list below (without any async request).</p>

<h2 id="tldr-heres-the-corresponding-egghead-lesson" translation-result="on">å¤ªé•¿ä¸è¯»ç‰ˆï¼šè¿™é‡Œæ˜¯ç›¸åº”çš„ Egghead è¯¾ç¨‹</h2><h2 translation-origin="off">TL;DR: Hereâ€™s the corresponding Egghead lesson</h2>

<p translation-result="on"><a href="https://egghead.io/lessons/angular-guarantee-ordering-of-events-with-rxjs" target="_blank">åœ¨ Egghead.io ä¸ŠæŸ¥çœ‹</a></p><p translation-origin="off"><a href="https://egghead.io/lessons/angular-guarantee-ordering-of-events-with-rxjs" target="_blank">View on Egghead.io</a></p>

<h2 id="the-problem" translation-result="on">é—®é¢˜</h2><h2 translation-origin="off">The Problem</h2>

<p translation-result="on">é€‰ä¸­æŸä¸ªé€‰é¡¹æ—¶å‘å‡ºçš„å¼‚æ­¥è¯·æ±‚å½“ç„¶è¦è¿‡ä¸€æ®µæ—¶é—´æ‰èƒ½è¿”å›ã€‚é‚£ä¹ˆåœ¨ç”¨æˆ·åŒå‡»æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p><p translation-origin="off">The async request made when checking an option might take a while before coming back of course. That said, what happens when the user double-clicks ğŸ˜•?</p>

<p translation-result="on"><a href="https://stackblitz.com/edit/blog-guarantee-order-wrong" target="_blank">äº²è‡ªè¯•è¯•</a>å§ã€‚</p><p translation-origin="off">Well, try by yourself:</p>

<p translation-result="on">å¦‚ä½ æ‰€è§ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå¾—åˆ°ä¸ä¸€è‡´çš„çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œå½“å¿«é€ŸåŒå‡»â€œOption 1â€æ—¶ï¼Œæˆ‘ä»¬å°±ä¼šé€‰ä¸­è¯¥é€‰é¡¹ï¼Œç„¶åå†æ¬¡å–æ¶ˆé€‰ä¸­ï¼Œæ¥ä¸‹æ¥çš„å¼‚æ­¥å›è°ƒä»ç„¶ä¼šæŠŠè¯¥é€‰é¡¹æ·»åŠ åˆ°åˆ—è¡¨ä¸­ã€‚</p><p translation-origin="off">As you can see, we might get an inconsistent state. When - for instance - quickly double-clicking on â€œOption 1â€ we get the option selected &amp; then unselected again, but the async call coming later still adds the option to the list.</p>

<p translation-result="on">é€šè¿‡å®¡è§†å¤é€‰æ¡†é€‰ä¸­äº‹ä»¶ä¸­æ‰€åšçš„äº‹å°±å¯ä»¥çœ‹æ¸…é—®é¢˜ä¹‹æ‰€åœ¨ï¼š</p><p translation-origin="off">The issue is quite clear by looking at what happens in the checkbox selection event:</p>

<pre><code class="language-typescript">...
<span class="hljs-keyword">if</span>(<span class="hljs-keyword">data</span>.checkboxEvent.checked) {
    <span class="hljs-comment">// simulate async call</span>
    setTimeout(() =&gt; {
      <span class="hljs-comment">// add the record</span>
      <span class="hljs-keyword">this</span>.records.push(<span class="hljs-keyword">data</span>.option)
    }, <span class="hljs-number">1500</span>)
} <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// remove the record given by the id (if present)</span>
    <span class="hljs-keyword">this</span>.records = <span class="hljs-keyword">this</span>.records.filter(x =&gt; x.value !== id );
}</code></pre>
<p translation-result="on">ç”±äºè¾ƒæ…¢çš„å¼‚æ­¥è°ƒç”¨ä¼šåœ¨ç¨åè¿”å›ï¼Œå› æ­¤å®ƒä»ä¼šæ·»åŠ è®°å½•ï¼Œè€Œä¸ç®¡æˆ‘ä»¬æ˜¯å¦åœ¨æ­¤æœŸé—´å–æ¶ˆé€‰ä¸­äº†å®ƒã€‚</p><p translation-origin="off">The slower async call comes back later, thus it adds the record, regardless of whether we unchecked it again in the meantime.</p>

<h2 id="we-need-to-guarantee-ordering" translation-result="on">æˆ‘ä»¬éœ€è¦ä¿è¯é¡ºåº</h2><h2 translation-origin="off">We need to guarantee ordering</h2>

<p translation-result="on">æˆ‘ä»¬å¿…é¡»ä¿è¯æ­¤äº‹ä»¶çš„é¡ºåºã€‚å› æ­¤ï¼Œå½“åŒå‡»æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿åªæœ‰åœ¨æ½œåœ¨çš„å¼‚æ­¥è°ƒç”¨è¿”å›åæ‰èƒ½æ‰§è¡Œâ€œå–æ¶ˆé€‰ä¸­â€çš„é€»è¾‘ã€‚è¿™å¾ˆæ£˜æ‰‹ã€‚å½“å¼‚æ­¥è°ƒç”¨è¿”å›æ—¶ï¼Œä½ å¯ä»¥æ£€æŸ¥ç›¸åº”çš„é€‰é¡¹æ˜¯å¦ä»åœ¨é€‰ä¸­çŠ¶æ€ï¼Œå¹¶ä¸”åªæœ‰åœ¨è¿™ç§æƒ…å†µä¸‹æ‰æ‰§è¡Œè¯¥é€»è¾‘ã€‚æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥ä¿å­˜ä¸€äº›æ ‡å¿—ï¼Œå½“æ­£åœ¨æ‰§è¡Œå¼‚æ­¥é€»è¾‘æœŸé—´é˜»å¡å…¶å®ƒé€»è¾‘â€¦â€¦<br>è¿™æ— æ³•ä»¤äººæ»¡æ„ï¼Œåªæ˜¯å–å·§ç½¢äº†â€¦â€¦è€Œä¸”ï¼Œè¿™è¿˜ä»…ä»…æ˜¯ä¸ªç®€å•çš„å°ä¾‹å­ã€‚</p><p translation-origin="off">We somehow need to guarantee ordering of the events. Thus, when double-clicking, we need to make sure that the logic for â€œuncheckingâ€ is executed only after a potential async call returns. Implementing this can be quite tricky. You could check whether the corresponding option is still checked when the async call returns and only in that case execute the logic. Alternatively, you could hold some flag, blocking other logic to be executed while an async call is runningâ€¦<br>Not really satisfying and hacky.., and again, this is just a small simple fake example.</p>

<p translation-result="on">å¥½å§ï¼Œæ˜¯ä¸»è§’ç™»åœºçš„æ—¶å€™äº†ã€‚å¦‚æœä½ æ‡‚ RxJSï¼Œé‚£ä¹ˆè¿™å¾ˆå®¹æ˜“å®ç°ï¼šä½¿ç”¨ <code>concatMap</code> æ“ä½œç¬¦ã€‚</p><p translation-origin="off">Well, turns out that if you know RxJS, this is quite easily achievable: using the <code>concatMap</code> operator.</p>

<blockquote>
<p translation-result="on"><code>concatMap</code> - æŒ‰é¡ºåºå°†å€¼æ˜ å°„ä¸ºå†…éƒ¨çš„ Observableï¼Œå¹¶ä¸”æŒ‰é¡ºåºè®¢é˜…è¿™ä¸ªå†…éƒ¨ Observableã€å¹¶ä¸”æŒ‰é¡ºåºå‘é€å€¼ã€‚</p><p translation-origin="off"><code>concatMap</code> - Map values to inner observable, subscribe and emit in order.</p>

</blockquote>
<p translation-result="on"><strong>å…¶æ€è·¯æ˜¯æŠŠé€‰ä¸­/å–æ¶ˆé€‰ä¸­çš„äº‹ä»¶é€šè¿‡ç®¡é“å‘é€</strong>åˆ°ä¸€ä¸ª RxJS Subject ä¸­ï¼Œç„¶åä¾æ¬¡å¤„ç†å®ƒä»¬ã€‚</p><p translation-origin="off"><strong>The idea is to pipe the events</strong> from the checking/unchecking into a RxJS subject and then process them one after the other.</p>

<pre><code class="language-typescript"><span class="hljs-keyword">private</span> selectionSubject = <span class="hljs-keyword">new</span> Subject&lt;SelectionEvent&gt;();
...
<span class="hljs-keyword">this</span>.selectionEvent
  .pipe(
    concatMap(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
      ...
    })
  ).subscribe(<span class="hljs-function"><span class="hljs-params">action</span> =&gt;</span> {
    ...
  })</code></pre>
<p translation-result="on">æˆ‘ä»¬ä¼šåœ¨ <code>concatMap</code> ä¸­å®ç°å¤„ç†è¿™äº›åŠ¨ä½œçš„é€»è¾‘ã€‚</p><p translation-origin="off">Inside the <code>concatMap</code> we implement the logic of handling the actions.</p>

<pre><code class="language-typescript"><span class="hljs-params">...</span>
.concatMap(<span class="hljs-built_in">data</span> =&gt; {
  const id = <span class="hljs-built_in">data</span>.option.value;

  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">data</span>.checkboxEvent.checked) {
    <span class="hljs-comment">/*
      do the async call and then return
      an action object like
      {
        type: 'ADD',
        data: ...
      }
    */</span>
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">/*
      Nothing to call, just remove
      the corresponding record, thus return
      a "remove" action
      {
        type: 'REMOVE',
        data: id
      }
    */</span>
  }
})
<span class="hljs-params">...</span></code></pre>
<p translation-result="on">å½“æˆ‘ä»¬æ”¶åˆ°ä¸€ä¸ªé€‰ä¸­äº‹ä»¶æ—¶ï¼Œå°±ä¼šæ‰§è¡Œè¿™ä¸ªå¼‚æ­¥è°ƒç”¨ï¼›å¦‚æœæ²¡æ”¶åˆ°å°±è§¦å‘ä¸€ä¸ªä»åˆ—è¡¨ä¸­åˆ é™¤è¯¥é¡¹çš„åŠ¨ä½œã€‚æˆ‘ä»¬æ€»æ˜¯è¦è¿”å›ä¸€ä¸ª Observableã€‚ <code>concatMap</code> ä¼šè®¢é˜…é‚£ä¸ªâ€œå†…éƒ¨ Observableâ€ï¼Œåªæœ‰å½“å‰ä¸€ä¸ªâ€œå®Œæˆï¼ˆcompleteï¼‰â€æ—¶æ‰ä¼šç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªâ€œå†…éƒ¨ Observableâ€ï¼Œè¿™æ ·å°±<strong>ä¿è¯äº†äº‹ä»¶çš„é¡ºåº</strong> ã€‚</p><p translation-origin="off">When we receive a checked event, then we execute the async call, otherwise we trigger an action for removing the item from the list. We need to always return an Observable for that. <code>concatMap</code> subscribes to that â€œinner Observableâ€ and proceeds with the next only once the previous one â€œcompletesâ€, thus <strong>guaranteeing ordering of our events</strong>.</p>

<blockquote>
<p translation-result="on">ä¸€æ—¦ Observable â€œå®Œäº‹â€äº†å°±ä¼š <code>complete</code>ã€‚è¿™é‡Œçš„ <code>complete</code> å°±åƒæ˜¯ <code>Promise</code> çš„ <code>resolve(..)</code>ã€‚</p><p translation-origin="off">An Observable â€œcompletesâ€ once it is done. It is similar to the <code>resolve(..)</code> of a <code>Promise</code>.</p>

</blockquote>
<h4 id="a-short-note-on-wrapping-settimeout-as-observable" translation-result="on">å¯¹äºæŠŠ <code>setTimeout</code> åŒ…è£…æˆ Observable çš„ç®€çŸ­è¯´æ˜</h4><h4 translation-origin="off">A short note on wrapping <code>setTimeout</code> as Observable</h4>

<p translation-result="on">è¿˜è®°å¾—å¦‚ä½•ç”¨ <code>setTimeout</code> æ¨¡æ‹Ÿå¼‚æ­¥è°ƒç”¨å§ã€‚å¥½ï¼Œæˆ‘ä»¬ç°åœ¨è¦æŠŠå®ƒåŒ…è£…è¿›ä¸€ä¸ª Observable ä¸­ã€‚æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚</p><p translation-origin="off">You remember we use <code>setTimeout</code> to simulate an async call. Well, we need to wrap it into an Observable. There are two ways of doing it.</p>

<p translation-result="on">*<em>ä½¿ç”¨ <code>timer</code> *</em> Observable - æˆ‘ä»¬å¯ä»¥ç®€å•åœ°ä½¿ç”¨ RxJS æä¾›çš„ç°æœ‰ <code>timer(..)</code> å‡½æ•°ï¼š</p><p translation-origin="off"><strong>Using the <code>timer</code> observable</strong> - we can simply use the existing <code>timer(..)</code> which the RxJS exposes for us:</p>

<pre><code class="language-typescript">timer(<span class="hljs-number">1500</span>)
  .pipe(
    <span class="hljs-built_in">map</span>(_ =&gt; ({
      <span class="hljs-keyword">type</span>: <span class="hljs-string">'ADD'</span>,
      <span class="hljs-built_in">data</span>: <span class="hljs-params">...</span>
    }))
  )</code></pre>
<p translation-result="on">å¦å¤–ï¼Œæˆ‘ä»¬è¿˜<strong>å¯ä»¥ç”¨ <code>Observable.create(...)</code> è‡ªè¡Œåˆ›å»ºä¸€ä¸ª Observable</strong> ï¼š</p><p translation-origin="off">Alternatively, we <strong>can create an Observable by ourselves</strong> with <code>Observable.create(...)</code>:</p>

<pre><code class="language-typescript"><span class="hljs-keyword">return</span> Observable.create(<span class="hljs-function">(<span class="hljs-params">observer</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> timeout = setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Returning data'</span>);
    observer.next({
      <span class="hljs-keyword">type</span>: <span class="hljs-string">'ADD'</span>,
      data: data.option
    });

    <span class="hljs-comment">// complete the observable</span>
    observer.complete();
  }, <span class="hljs-number">1500</span>);

  <span class="hljs-comment">// cancel timeout on unsubscribe</span>
  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> clearTimeout(timeout);
});</code></pre>
<h3 id="the-entire-concatmap-example" translation-result="on"><code>concatMap</code> çš„å®Œæ•´ä¾‹å­</h3><h3 translation-origin="off">The entire <code>concatMap</code> example</h3>

<p translation-result="on">å¥½ï¼Œæ—¢ç„¶æˆ‘ä»¬å·²ç»çŸ¥é“å¦‚ä½•æŠŠ <code>setTimeout</code> åŒ…è£…æˆä¸€ä¸ª Observable äº†ï¼Œå°±æ¥ç€çœ‹å¦‚ä½•å®ç° <code>concatMap</code> é€»è¾‘å§ã€‚</p><p translation-origin="off">Alright, now that we know how to wrap our <code>setTimeout</code> as an observable, letâ€™s continue with the implementation of the <code>concatMap</code> logic.</p>

<pre><code class="language-typescript">concatMap(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> id = data.option.value;

  <span class="hljs-keyword">if</span> (data.checkboxEvent.checked) {
    <span class="hljs-comment">// simulate async call</span>
    <span class="hljs-keyword">return</span> Observable.create(<span class="hljs-function">(<span class="hljs-params">observer</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> timeout = setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Returning data'</span>);
        observer.next({
          <span class="hljs-keyword">type</span>: <span class="hljs-string">'ADD'</span>,
          data: data.option
        });
        observer.complete();
      }, <span class="hljs-number">1500</span>);

      <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> clearTimeout(timeout);
    });
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> of({
      <span class="hljs-keyword">type</span>: <span class="hljs-string">'REMOVE'</span>,
      data: id
    });
  }
})</code></pre>
<p translation-result="on">åœ¨ <code>selectionObject</code> çš„ <code>.subscribe(...)</code> ä¸­ï¼Œæˆ‘ä»¬ä¼šè§£æè¿™ä¸ªåŠ¨ä½œï¼Œå¹¶å½±å“ç»“æœåˆ—è¡¨ï¼š</p><p translation-origin="off">In the <code>.subscribe(...)</code> of our <code>selectionObject</code> we then effectively parse the action and cause the side-effect on our result list:</p>

<pre><code class="language-typescript"> <span class="hljs-keyword">this</span>.selectionSubject
    .pipe(
      concatMap(<span class="hljs-keyword">data</span> =&gt; {
        ...
      })
    ).subscribe((action: any) =&gt; {
      <span class="hljs-keyword">if</span> (action.type === <span class="hljs-string">'ADD'</span>) {
        <span class="hljs-keyword">this</span>.records.push(action.<span class="hljs-keyword">data</span>)
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">this</span>.records = <span class="hljs-keyword">this</span>.records.filter(x =&gt; x.value !== action.<span class="hljs-keyword">data</span>);
      }
    });</code></pre>
<p translation-result="on">å¤ªæ£’äº†ï¼ç°åœ¨ï¼Œæ¯å½“ç”¨æˆ·å•å‡»å¤é€‰æ¡†æ—¶ï¼Œæˆ‘ä»¬å°±ä¸åœ¨å…¶äº‹ä»¶å¤„ç†ç¨‹åºä¸­å®ç°è¿™ä¸ªé€»è¾‘ï¼Œåªè¦æŠŠå®ƒä¼ ç»™ <code>selectionSubject</code> å°±å¯ä»¥äº†ã€‚</p><p translation-origin="off">Awesome! Now, whenever the user clicks a checkbox, in the according event handler, we donâ€™t implement the logic, but rather we just need to pipe it into the <code>selectionSubject</code>.</p>

<pre><code class="language-typescript">onCheckListChange(<span class="hljs-keyword">data</span>: SelectionEvent) {
  <span class="hljs-keyword">this</span>.selectionSubject.next(<span class="hljs-keyword">data</span>);
}</code></pre>
<p translation-result="on">ä¸‹é¢æ˜¯ Stackblitz ä¸Šçš„ä¾‹å­ã€‚çœ‹ï¼å®ƒå¯¹åŒå‡»æ“ä½œå¤„ç†å¾—å®Œç¾ï¼</p><p translation-result="on"><a href="https://stackblitz.com/edit/blog-guarantee-order-switchmap?ctl=1" target="_blank">åœ¨çº¿ä¾‹å­</a></p><p translation-origin="off">Hereâ€™s the according Stackblitz example to play around with. Check it out, double-clicking works perfectly now!</p>


<h2 id="optimizing-with-switchmap" translation-result="on">ç”¨ <code>switchMap</code> è¿›è¡Œä¼˜åŒ–</h2><h2 translation-origin="off">Optimizing with <code>switchMap</code></h2>

<p translation-result="on">ä½†è¿˜å¯ä»¥æ›´è¿›ä¸€æ­¥ã€‚åœ¨å½“å‰çš„ <code>concatMap</code> ä¾‹å­ä¸­ï¼Œå½“ç”¨æˆ·åŒå‡»æ—¶ï¼Œæˆ‘ä»¬ä¼šç­‰åˆ°å¼‚æ­¥è°ƒç”¨è¿”å›åå†åˆ é™¤å®ƒã€‚é‚£ä¸ºä»€ä¹ˆè¿˜è¦å…ˆæ‰§è¡Œå¼‚æ­¥é€»è¾‘å‘¢ï¼Ÿå½“ç”¨æˆ·åŒå‡»æ—¶ï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥ç›´æ¥å–æ¶ˆä¸Šä¸€ä¸ªæ“ä½œï¼Œç”šè‡³éƒ½ä¸ç”¨æ‰§è¡Œå®ƒï¼Œæ›´èŠ‚çœæ—¶é—´ã€‚</p><p translation-origin="off">But can do even better. In the current <code>concatMap</code> example, when the user double-clicks, we effectively wait until the async call comes back and then remove it again. But why even execute the async logic. When the user double-clicks we can just abort the previous action and not even execute it, thus save time.</p>

<p translation-result="on">è¿™å°±æ˜¯ <code>switchMap</code> æ‰€åšçš„äº‹ã€‚ä¸ <code>concatMap</code> ä¸åŒï¼Œå®ƒä¸ä¼šç­‰å¾…ä¸Šä¸€ä¸ªåŠ¨ä½œï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„ Observable äº‹ä»¶ï¼‰æ‰§è¡Œå®Œï¼Œè€Œæ˜¯ä¼šç›´æ¥å–æ¶ˆä¸Šä¸€ä¸ª Observableã€‚</p><p translation-origin="off">Thatâ€™s what <code>switchMap</code> does. In contrast to <code>concatMap</code>, it doesnâ€™t execute the actions (our Observable events) in sequence, but rather it cancels the previous Observable.</p>

<blockquote>
<p translation-result="on"><strong>å°å¿ƒ!!</strong> è™½ç„¶åœ¨è¿™ä¸ªç”¨ä¾‹ä¸‹<em>å–æ¶ˆ</em>æ˜¯ä¸€ç§åˆç†çš„é€‰æ‹©ï¼Œä½†å¯èƒ½å¹¶éæ‰€æœ‰æƒ…å†µä¸‹éƒ½æ˜¯å¦‚æ­¤ã€‚æ‰€ä»¥åœ¨ç”¨ <code>concatMap</code> æˆ– <code>switchMap</code> æ—¶ä¸€å®šè¦å°å¿ƒã€‚</p><p translation-origin="off"><strong>Watch out!!</strong> While for this use-case <em>cancelling</em> was an option, this might not always be the case. So be careful to evaluate between using <code>concatMap</code> or <code>switchMap</code>.</p>

</blockquote>
<p translation-result="on">è¿™æ˜¯ Stackblitz ä¸Šçš„ä¸€ä¸ªä¾‹å­ã€‚è¦ç‰¹åˆ«ç•™æ„æ§åˆ¶å°æ—¥å¿—ã€‚æˆ‘ä»¬åœ¨ <code>setTimeout(..)</code> ä¸­å†™äº†ä¸€ä¸ªæ—¥å¿—ï¼ˆ<code>console.log('Returning data');</code>ï¼‰ã€‚å¦‚æœåŒå‡»ï¼Œè¯¥æ—¥å¿—å°±ä¸ä¼šå‡ºç°ï¼Œè¡¨ç¤ºè¯¥å¼‚æ­¥æ“ä½œç”šè‡³æ²¡æœ‰æ‰§è¡Œè¿‡ã€‚</p><p translation-result="on"><a href="https://stackblitz.com/edit/blog-guarantee-order-switchmap" target="_blank">åœ¨çº¿ä¾‹å­</a>ã€‚</p><p translation-origin="off">Hereâ€™s a Stackblitz example. Pay particular attention to the console log. In the <code>setTimeout(..)</code> a log is written (<code>console.log('Returning data');</code>). If you double-click, that log doesnâ€™t even appear, proving that the async action is not even executed.</p>


<h2 id="switchmap---potential-race-conditions" translation-result="on"><code>switchMap</code> - æ½œåœ¨çš„ç«æ€æ¡ä»¶</h2><h2 translation-origin="off"><code>switchMap</code> - potential race conditions</h2>

<p translation-result="on">å¥½ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œå¯ä»¥ç”¨ <code>switchMap</code> æ¥ä¼˜åŒ– <code>concatMap</code> æ–¹æ³•ï¼Œå› ä¸ºæˆ‘ä»¬å–æ¶ˆäº†å‰ä¸€ä¸ª Observableï¼Œä»¥å…å½“ç”¨æˆ·åŒå‡»æŸä¸ªå¤é€‰æ¡†çš„æƒ…å†µä¸‹æ‰§è¡Œè¯¥æ“ä½œï¼ˆå…¶é€»è¾‘å¯èƒ½æœ‰å¼€é”€ï¼‰ã€‚ä½†æ˜¯ï¼Œè¿™é‡Œè¿˜æœ‰ä¸ªé—®é¢˜ï¼š <strong>å¦‚æœç”¨æˆ·ç‚¹å‡»äº†ç¬¬ä¸€ä¸ªå¤é€‰æ¡†ä¹‹åå¿«é€Ÿç‚¹å‡»ç¬¬äºŒä¸ªï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</strong> æˆ‘ä»¬å®é™…ä¸Šä¼šå–æ¶ˆå¯¹ç¬¬ä¸€ä¸ªå¤é€‰æ¡†çš„ç‚¹å‡»ï¼Œè¿™ä¼šé˜»æ­¢å®ƒè¢«æ¿€æ´»ï¼Œè¿™æ ·æ˜¾ç„¶æ˜¯ä¸å¯¹çš„ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p translation-origin="off">Ok, so weâ€™ve learned, that with <code>switchMap</code> we can optimize our <code>concatMap</code> approach in that we cancel the previous observable, thus preventing from even executing that (possibly costly logic) in case when the user double-clicks on one of our checkboxes. But thereâ€™s a caveaut here: <strong>what if the user quickly clicks the 1st and then 2nd checkbox?</strong> We would actually cancel the click of the 1st checkbox, thus preventing it from being properly activated. Letâ€™s see how to fix that.</p>

<p translation-result="on"><a href="https://mobile.twitter.com/KwintenP" target="_blank">Kwinten</a> å»ºè®®åœ¨è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨ <code>mergeMap</code>ï¼Œç„¶åä½¿ç”¨ <code>takeUntil</code> æ“ä½œç¬¦æ¥å¤„ç†â€œå–æ¶ˆâ€è¿™ç§ä¼˜åŒ–é€»è¾‘ï¼Œä½¿å…¶éªŒè¯ç¬¬äºŒä¸ªäº‹ä»¶æ˜¯å¦ä»åŒä¸€ä¸ªå¤é€‰æ¡†è¿›æ¥çš„ã€‚ä¸‹é¢æ˜¯å®ç°æ–¹å¼ï¼š</p><p translation-origin="off"><a href="https://mobile.twitter.com/KwintenP" target="_blank">Kwinten</a> suggested to use <code>mergeMap</code> in this case and then handling the â€œcancellingâ€ optimization by using the <code>takeUntil</code> operator, verifying whether a second event from the same checkbox comes in. Hereâ€™s how to achieve that:</p>

<pre><code class="language-typescript"><span class="hljs-keyword">this</span>.selectionSubject
  .pipe(
    mergeMap(<span class="hljs-keyword">data</span> =&gt; {
      <span class="hljs-keyword">const</span> id = <span class="hljs-keyword">data</span>.option.value;

      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">data</span>.checkboxEvent.checked) {
        <span class="hljs-keyword">return</span> Observable.create((observer) =&gt; {
          ...
        }).pipe(
          takeUntil(<span class="hljs-keyword">this</span>.selectionSubject.pipe(
            filter(<span class="hljs-keyword">data</span> =&gt; <span class="hljs-keyword">data</span>.option.value === id),
          ))
        );
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> of({
          type: <span class="hljs-string">'REMOVE'</span>,
          <span class="hljs-keyword">data</span>: id
        });
      }
    }
    )
  ).subscribe((action: any) =&gt; {
    ...
  });</code></pre>
<p translation-result="on">å¦‚ä½ æ‰€è§ï¼Œè¿™ä¸ªâ€œå¼‚æ­¥â€çš„ Observable æœ‰ä¸€ä¸ª <code>takeUntil</code> æ“ä½œç¬¦ï¼Œå½“ <code>selectionSubject</code> ä¸Šå‘ç”Ÿçš„æ–°äº‹ä»¶å…·æœ‰å’Œæˆ‘ä»¬æ›¾å¤„ç†çš„äº‹ä»¶ç›¸åŒçš„ id æ—¶ï¼Œå®ƒå°±ä¼šåœæ­¢é‚£ä¸ª Observableã€‚å› ä¸ºè¿™ç§åœºæ™¯å…¶å®å°±æ˜¯åœ¨åŒå‡»åŒä¸€ä¸ªå¤é€‰æ¡†ã€‚åœ¨æ‰€æœ‰å…¶å®ƒæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªä¼šå®Œæˆè¿™ä¸ª Observableï¼Œè®©å®ƒç»§ç»­è¿è¡Œè€Œä¸ç”¨ç»ˆæ­¢å®ƒï¼Œè¿™æ ·å°±è§£å†³äº†å¿«é€Ÿç‚¹å‡»å¤šä¸ªä¸åŒå¤é€‰æ¡†æ—¶çš„æ½œåœ¨é—®é¢˜ğŸ˜ƒã€‚</p><p translation-origin="off">As you can see the â€œasyncâ€ observable has a <code>takeUntil</code> that stops that Observable the moment a new event comes in on our <code>selectionSubject</code> with the same id weâ€™re currently processing. Because thatâ€™s the scenario of a double-click on the same checkbox. In any other case, we just complete the observable and let it go on without terminating it, thus solving the potential issue of quickly clicking multiple different checkboxes ğŸ˜ƒ.</p>

<p translation-result="on">ä¸‹é¢æ˜¯ä¿®æ”¹åçš„ Stackblitz ç‰ˆæœ¬ã€‚</p><p translation-result="on"><a href="https://stackblitz.com/edit/blog-guarantee-order-mergemap" target="_blank">åœ¨çº¿ä¾‹å­</a>ã€‚</p><p translation-origin="off">And hereâ€™s the according modified Stackblitz to play around with.</p>


<h2 id="conclusion" translation-result="on">ç»“è®º</h2><h2 translation-origin="off">Conclusion</h2>

<p translation-result="on">æœ¬æ–‡æ¼”ç¤ºäº† <code>concatMap</code> å’Œ <code>switchMap</code> çš„ä¸€äº›å®æˆ˜ç”¨ä¾‹ã€‚RxJS éå¸¸å¼ºå¤§ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªä¾‹å­ä¸­çœ‹åˆ°äº†å¦‚ä½•ä»¥éå¸¸ä¼˜é›…å’Œå¯ç»´æŠ¤çš„æ–¹å¼è§£å†³â€œæ“ä½œé¡ºåºâ€çš„é—®é¢˜ã€‚</p><p translation-origin="off">This article demonstrates some pratical use cases for <code>concatMap</code> as well as <code>switchMap</code>. RxJS is powerful, and we see in this example how to solve the â€œorderingâ€ problem in a very elegant and maintainable way.</p>

<p translation-result="on">ä¸è¿‡ï¼ŒRxJS ä¹Ÿæœ‰å®ƒçš„å­¦ä¹ æ›²çº¿ã€‚æˆ‘æ·±ä¿¡ï¼Œå­¦ä¹ å®ƒçš„æœ€ä½³é€”å¾„ä¸æ˜¯å­¦ä¹ å…¶è¿ç®—ç¬¦ï¼Œè€Œæ˜¯å­¦ä¹ å®é™…çš„ç”¨ä¾‹ï¼Œä»¥åŠå¦‚ä½•ç”¨ RxJS æ¥è§£å†³è¿™äº›ç”¨ä¾‹ã€‚è¯·ç»§ç»­å…³æ³¨ä»Šåçš„ç±»ä¼¼æ–‡ç« ã€‚</p><p translation-origin="off">RxJS has its learning curve, though. I highly believe the best way to learn it is not by learning its operators, but rather by real-world use cases and how to solve them with RxJS. Stay tuned for further articles like this one.</p>

<p translation-result="on"><em>ï¼ˆ@å„ä½ rxjs ä¸“å®¶ï¼šæœ¬æ–‡å¯¹ä½ æ²¡å•¥ç”¨ï¼ŒæŠ±æ­‰ğŸ˜‰ï¼‰</em></p><p translation-origin="off"><em>(@rxjs experts: nothing for you here, Iâ€™m sorry ğŸ˜‰)</em></p>

</div></app-markdown-viewer></app-article-show></mat-sidenav-content><!----></mat-sidenav-container></app-layout-nav></app-article-layout></app-root>
<script src="/assets/js/translator.js" async=""></script>
<script type="text/javascript" src="runtime.9dbc0c306f01ba3805bf.js"></script><script type="text/javascript" src="polyfills.53c2af414a078f039587.js"></script><script type="text/javascript" src="main.fe512ad82712af734a82.js"></script>

</body></html>